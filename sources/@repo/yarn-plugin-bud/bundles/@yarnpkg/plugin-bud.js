/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@yarnpkg/plugin-bud",
factory: function (require) {
var plugin=(()=>{var zf=Object.create;var zt=Object.defineProperty;var Qf=Object.getOwnPropertyDescriptor;var Yf=Object.getOwnPropertyNames;var Zf=Object.getPrototypeOf,Jf=Object.prototype.hasOwnProperty;var E=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var g=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),so=(t,e)=>{for(var r in e)zt(t,r,{get:e[r],enumerable:!0})},no=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Yf(e))!Jf.call(t,n)&&n!==r&&zt(t,n,{get:()=>e[n],enumerable:!(s=Qf(e,n))||s.enumerable});return t};var re=(t,e,r)=>(r=t!=null?zf(Zf(t)):{},no(e||!t||!t.__esModule?zt(r,"default",{value:t,enumerable:!0}):r,t)),ep=t=>no(zt({},"__esModule",{value:!0}),t);var co=g((Y_,ao)=>{ao.exports={description:"Configurable, extensible build tools for modern single and multi-page web applications",logo:"https://cdn.roots.io/app/uploads/logo-bud.svg",name:"bud.js",organization:{favicon:"https://roots.io/favicon.ico",name:"Roots Software Foundation LLC",site:"https://roots.io",twitter:"https://twitter.com/rootswp"},sponsors:[{image:"https://cdn.roots.io/app/uploads/km-digital.svg",title:"KM Digital",url:"https://k-m.com/"},{image:"https://cdn.roots.io/app/uploads/carrot.svg",title:"Carrot",url:"https://carrot.com/"},{image:"https://cdn.roots.io/app/uploads/wordpress.svg",title:"WordPress.com",url:"https://wordpress.com/"},{image:"https://cdn.roots.io/app/uploads/pantheon.svg",title:"Pantheon",url:"https://pantheon.io/"},{image:"https://cdn.roots.io/app/uploads/worksite-safety.svg",title:"Worksite Safety",url:"https://worksitesafety.ca/careers/"},{image:"https://cdn.roots.io/app/uploads/copia-digital.svg",title:"Copia Digital",url:"https://www.copiadigital.com/"}],url:{discourse:"https://discourse.roots.io/c/bud/24",docs:"https://bud.js.org",git:"git@github.com:roots/bud",web:"https://github.com/roots/bud"}}});var Ts=g((lb,bo)=>{"use strict";var tp=E("stream"),yo=tp.PassThrough,rp=Array.prototype.slice;bo.exports=sp;function sp(){let t=[],e=rp.call(arguments),r=!1,s=e[e.length-1];s&&!Array.isArray(s)&&s.pipe==null?e.pop():s={};let n=s.end!==!1,i=s.pipeError===!0;s.objectMode==null&&(s.objectMode=!0),s.highWaterMark==null&&(s.highWaterMark=64*1024);let o=yo(s);function a(){for(let l=0,p=arguments.length;l<p;l++)t.push(_o(arguments[l],s));return c(),this}function c(){if(r)return;r=!0;let l=t.shift();if(!l){process.nextTick(u);return}Array.isArray(l)||(l=[l]);let p=l.length+1;function f(){--p>0||(r=!1,c())}function w(y){function _(){y.removeListener("merge2UnpipeEnd",_),y.removeListener("end",_),i&&y.removeListener("error",C),f()}function C(A){o.emit("error",A)}if(y._readableState.endEmitted)return f();y.on("merge2UnpipeEnd",_),y.on("end",_),i&&y.on("error",C),y.pipe(o,{end:!1}),y.resume()}for(let y=0;y<l.length;y++)w(l[y]);f()}function u(){r=!1,o.emit("queueDrain"),n&&o.end()}return o.setMaxListeners(0),o.add=a,o.on("unpipe",function(l){l.emit("merge2UnpipeEnd")}),e.length&&a.apply(null,e),o}function _o(t,e){if(Array.isArray(t))for(let r=0,s=t.length;r<s;r++)t[r]=_o(t[r],e);else{if(!t._readableState&&t.pipe&&(t=t.pipe(yo(e))),!t._readableState||!t.pause||!t.pipe)throw new Error("Only readable stream can be merged.");t.pause()}return t}});var So=g(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.splitWhen=Xe.flatten=void 0;function np(t){return t.reduce((e,r)=>[].concat(e,r),[])}Xe.flatten=np;function ip(t,e){let r=[[]],s=0;for(let n of t)e(n)?(s++,r[s]=[]):r[s].push(n);return r}Xe.splitWhen=ip});var Eo=g(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.isEnoentCodeError=void 0;function op(t){return t.code==="ENOENT"}Qt.isEnoentCodeError=op});var vo=g(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.createDirentFromStats=void 0;var ks=class{constructor(e,r){this.name=e,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function ap(t,e){return new ks(t,e)}Yt.createDirentFromStats=ap});var Co=g(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.convertPosixPathToPattern=K.convertWindowsPathToPattern=K.convertPathToPattern=K.escapePosixPath=K.escapeWindowsPath=K.escape=K.removeLeadingDotSegment=K.makeAbsolute=K.unixify=void 0;var cp=E("os"),up=E("path"),wo=cp.platform()==="win32",lp=2,fp=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\()|\\(?![!()*+?@[\]{|}]))/g,pp=/(\\?)([(){}]|^!|[!+@](?=\())/g,hp=/^\\\\([.?])/,dp=/\\(?![!()+@{}])/g;function mp(t){return t.replace(/\\/g,"/")}K.unixify=mp;function gp(t,e){return up.resolve(t,e)}K.makeAbsolute=gp;function yp(t){if(t.charAt(0)==="."){let e=t.charAt(1);if(e==="/"||e==="\\")return t.slice(lp)}return t}K.removeLeadingDotSegment=yp;K.escape=wo?Os:Is;function Os(t){return t.replace(pp,"\\$2")}K.escapeWindowsPath=Os;function Is(t){return t.replace(fp,"\\$2")}K.escapePosixPath=Is;K.convertPathToPattern=wo?xo:Ao;function xo(t){return Os(t).replace(hp,"//$1").replace(dp,"/")}K.convertWindowsPathToPattern=xo;function Ao(t){return Is(t)}K.convertPosixPathToPattern=Ao});var Po=g((mb,Ro)=>{Ro.exports=function(e){if(typeof e!="string"||e==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(r[2])return!0;e=e.slice(r.index+r[0].length)}return!1}});var Oo=g((gb,ko)=>{var _p=Po(),To={"{":"}","(":")","[":"]"},bp=function(t){if(t[0]==="!")return!0;for(var e=0,r=-2,s=-2,n=-2,i=-2,o=-2;e<t.length;){if(t[e]==="*"||t[e+1]==="?"&&/[\].+)]/.test(t[e])||s!==-1&&t[e]==="["&&t[e+1]!=="]"&&(s<e&&(s=t.indexOf("]",e)),s>e&&(o===-1||o>s||(o=t.indexOf("\\",e),o===-1||o>s)))||n!==-1&&t[e]==="{"&&t[e+1]!=="}"&&(n=t.indexOf("}",e),n>e&&(o=t.indexOf("\\",e),o===-1||o>n))||i!==-1&&t[e]==="("&&t[e+1]==="?"&&/[:!=]/.test(t[e+2])&&t[e+3]!==")"&&(i=t.indexOf(")",e),i>e&&(o=t.indexOf("\\",e),o===-1||o>i))||r!==-1&&t[e]==="("&&t[e+1]!=="|"&&(r<e&&(r=t.indexOf("|",e)),r!==-1&&t[r+1]!==")"&&(i=t.indexOf(")",r),i>r&&(o=t.indexOf("\\",r),o===-1||o>i))))return!0;if(t[e]==="\\"){var a=t[e+1];e+=2;var c=To[a];if(c){var u=t.indexOf(c,e);u!==-1&&(e=u+1)}if(t[e]==="!")return!0}else e++}return!1},Sp=function(t){if(t[0]==="!")return!0;for(var e=0;e<t.length;){if(/[*?{}()[\]]/.test(t[e]))return!0;if(t[e]==="\\"){var r=t[e+1];e+=2;var s=To[r];if(s){var n=t.indexOf(s,e);n!==-1&&(e=n+1)}if(t[e]==="!")return!0}else e++}return!1};ko.exports=function(e,r){if(typeof e!="string"||e==="")return!1;if(_p(e))return!0;var s=bp;return r&&r.strict===!1&&(s=Sp),s(e)}});var $o=g((yb,Io)=>{"use strict";var Ep=Oo(),vp=E("path").posix.dirname,wp=E("os").platform()==="win32",$s="/",xp=/\\/g,Ap=/[\{\[].*[\}\]]$/,Cp=/(^|[^\\])([\{\[]|\([^\)]+$)/,Rp=/\\([\!\*\?\|\[\]\(\)\{\}])/g;Io.exports=function(e,r){var s=Object.assign({flipBackslashes:!0},r);s.flipBackslashes&&wp&&e.indexOf($s)<0&&(e=e.replace(xp,$s)),Ap.test(e)&&(e+=$s),e+="a";do e=vp(e);while(Ep(e)||Cp.test(e));return e.replace(Rp,"$1")}});var Zt=g(ae=>{"use strict";ae.isInteger=t=>typeof t=="number"?Number.isInteger(t):typeof t=="string"&&t.trim()!==""?Number.isInteger(Number(t)):!1;ae.find=(t,e)=>t.nodes.find(r=>r.type===e);ae.exceedsLimit=(t,e,r=1,s)=>s===!1||!ae.isInteger(t)||!ae.isInteger(e)?!1:(Number(e)-Number(t))/Number(r)>=s;ae.escapeNode=(t,e=0,r)=>{let s=t.nodes[e];!s||(r&&s.type===r||s.type==="open"||s.type==="close")&&s.escaped!==!0&&(s.value="\\"+s.value,s.escaped=!0)};ae.encloseBrace=t=>t.type!=="brace"?!1:t.commas>>0+t.ranges>>0===0?(t.invalid=!0,!0):!1;ae.isInvalidBrace=t=>t.type!=="brace"?!1:t.invalid===!0||t.dollar?!0:t.commas>>0+t.ranges>>0===0||t.open!==!0||t.close!==!0?(t.invalid=!0,!0):!1;ae.isOpenOrClose=t=>t.type==="open"||t.type==="close"?!0:t.open===!0||t.close===!0;ae.reduce=t=>t.reduce((e,r)=>(r.type==="text"&&e.push(r.value),r.type==="range"&&(r.type="text"),e),[]);ae.flatten=(...t)=>{let e=[],r=s=>{for(let n=0;n<s.length;n++){let i=s[n];Array.isArray(i)?r(i,e):i!==void 0&&e.push(i)}return e};return r(t),e}});var Jt=g((bb,No)=>{"use strict";var Lo=Zt();No.exports=(t,e={})=>{let r=(s,n={})=>{let i=e.escapeInvalid&&Lo.isInvalidBrace(n),o=s.invalid===!0&&e.escapeInvalid===!0,a="";if(s.value)return(i||o)&&Lo.isOpenOrClose(s)?"\\"+s.value:s.value;if(s.value)return s.value;if(s.nodes)for(let c of s.nodes)a+=r(c);return a};return r(t)}});var Do=g((Sb,qo)=>{"use strict";qo.exports=function(t){return typeof t=="number"?t-t===0:typeof t=="string"&&t.trim()!==""?Number.isFinite?Number.isFinite(+t):isFinite(+t):!1}});var Ko=g((Eb,Uo)=>{"use strict";var Mo=Do(),qe=(t,e,r)=>{if(Mo(t)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(e===void 0||t===e)return String(t);if(Mo(e)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let s={relaxZeros:!0,...r};typeof s.strictZeros=="boolean"&&(s.relaxZeros=s.strictZeros===!1);let n=String(s.relaxZeros),i=String(s.shorthand),o=String(s.capture),a=String(s.wrap),c=t+":"+e+"="+n+i+o+a;if(qe.cache.hasOwnProperty(c))return qe.cache[c].result;let u=Math.min(t,e),l=Math.max(t,e);if(Math.abs(u-l)===1){let _=t+"|"+e;return s.capture?`(${_})`:s.wrap===!1?_:`(?:${_})`}let p=Wo(t)||Wo(e),f={min:t,max:e,a:u,b:l},w=[],y=[];if(p&&(f.isPadded=p,f.maxLen=String(f.max).length),u<0){let _=l<0?Math.abs(l):1;y=Ho(_,Math.abs(u),f,s),u=f.a=0}return l>=0&&(w=Ho(u,l,f,s)),f.negatives=y,f.positives=w,f.result=Pp(y,w,s),s.capture===!0?f.result=`(${f.result})`:s.wrap!==!1&&w.length+y.length>1&&(f.result=`(?:${f.result})`),qe.cache[c]=f,f.result};function Pp(t,e,r){let s=Ls(t,e,"-",!1,r)||[],n=Ls(e,t,"",!1,r)||[],i=Ls(t,e,"-?",!0,r)||[];return s.concat(i).concat(n).join("|")}function Tp(t,e){let r=1,s=1,n=jo(t,r),i=new Set([e]);for(;t<=n&&n<=e;)i.add(n),r+=1,n=jo(t,r);for(n=Bo(e+1,s)-1;t<n&&n<=e;)i.add(n),s+=1,n=Bo(e+1,s)-1;return i=[...i],i.sort(Ip),i}function kp(t,e,r){if(t===e)return{pattern:t,count:[],digits:0};let s=Op(t,e),n=s.length,i="",o=0;for(let a=0;a<n;a++){let[c,u]=s[a];c===u?i+=c:c!=="0"||u!=="9"?i+=$p(c,u,r):o++}return o&&(i+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:i,count:[o],digits:n}}function Ho(t,e,r,s){let n=Tp(t,e),i=[],o=t,a;for(let c=0;c<n.length;c++){let u=n[c],l=kp(String(o),String(u),s),p="";if(!r.isPadded&&a&&a.pattern===l.pattern){a.count.length>1&&a.count.pop(),a.count.push(l.count[0]),a.string=a.pattern+Go(a.count),o=u+1;continue}r.isPadded&&(p=Lp(u,r,s)),l.string=p+l.pattern+Go(l.count),i.push(l),o=u+1,a=l}return i}function Ls(t,e,r,s,n){let i=[];for(let o of t){let{string:a}=o;!s&&!Fo(e,"string",a)&&i.push(r+a),s&&Fo(e,"string",a)&&i.push(r+a)}return i}function Op(t,e){let r=[];for(let s=0;s<t.length;s++)r.push([t[s],e[s]]);return r}function Ip(t,e){return t>e?1:e>t?-1:0}function Fo(t,e,r){return t.some(s=>s[e]===r)}function jo(t,e){return Number(String(t).slice(0,-e)+"9".repeat(e))}function Bo(t,e){return t-t%Math.pow(10,e)}function Go(t){let[e=0,r=""]=t;return r||e>1?`{${e+(r?","+r:"")}}`:""}function $p(t,e,r){return`[${t}${e-t===1?"":"-"}${e}]`}function Wo(t){return/^-?(0+)\d/.test(t)}function Lp(t,e,r){if(!e.isPadded)return t;let s=Math.abs(e.maxLen-String(t).length),n=r.relaxZeros!==!1;switch(s){case 0:return"";case 1:return n?"0?":"0";case 2:return n?"0{0,2}":"00";default:return n?`0{0,${s}}`:`0{${s}}`}}qe.cache={};qe.clearCache=()=>qe.cache={};Uo.exports=qe});var Ds=g((vb,ea)=>{"use strict";var Np=E("util"),zo=Ko(),Xo=t=>t!==null&&typeof t=="object"&&!Array.isArray(t),qp=t=>e=>t===!0?Number(e):String(e),Ns=t=>typeof t=="number"||typeof t=="string"&&t!=="",Rt=t=>Number.isInteger(+t),qs=t=>{let e=`${t}`,r=-1;if(e[0]==="-"&&(e=e.slice(1)),e==="0")return!1;for(;e[++r]==="0";);return r>0},Dp=(t,e,r)=>typeof t=="string"||typeof e=="string"?!0:r.stringify===!0,Mp=(t,e,r)=>{if(e>0){let s=t[0]==="-"?"-":"";s&&(t=t.slice(1)),t=s+t.padStart(s?e-1:e,"0")}return r===!1?String(t):t},Vo=(t,e)=>{let r=t[0]==="-"?"-":"";for(r&&(t=t.slice(1),e--);t.length<e;)t="0"+t;return r?"-"+t:t},Hp=(t,e)=>{t.negatives.sort((o,a)=>o<a?-1:o>a?1:0),t.positives.sort((o,a)=>o<a?-1:o>a?1:0);let r=e.capture?"":"?:",s="",n="",i;return t.positives.length&&(s=t.positives.join("|")),t.negatives.length&&(n=`-(${r}${t.negatives.join("|")})`),s&&n?i=`${s}|${n}`:i=s||n,e.wrap?`(${r}${i})`:i},Qo=(t,e,r,s)=>{if(r)return zo(t,e,{wrap:!1,...s});let n=String.fromCharCode(t);if(t===e)return n;let i=String.fromCharCode(e);return`[${n}-${i}]`},Yo=(t,e,r)=>{if(Array.isArray(t)){let s=r.wrap===!0,n=r.capture?"":"?:";return s?`(${n}${t.join("|")})`:t.join("|")}return zo(t,e,r)},Zo=(...t)=>new RangeError("Invalid range arguments: "+Np.inspect(...t)),Jo=(t,e,r)=>{if(r.strictRanges===!0)throw Zo([t,e]);return[]},Fp=(t,e)=>{if(e.strictRanges===!0)throw new TypeError(`Expected step "${t}" to be a number`);return[]},jp=(t,e,r=1,s={})=>{let n=Number(t),i=Number(e);if(!Number.isInteger(n)||!Number.isInteger(i)){if(s.strictRanges===!0)throw Zo([t,e]);return[]}n===0&&(n=0),i===0&&(i=0);let o=n>i,a=String(t),c=String(e),u=String(r);r=Math.max(Math.abs(r),1);let l=qs(a)||qs(c)||qs(u),p=l?Math.max(a.length,c.length,u.length):0,f=l===!1&&Dp(t,e,s)===!1,w=s.transform||qp(f);if(s.toRegex&&r===1)return Qo(Vo(t,p),Vo(e,p),!0,s);let y={negatives:[],positives:[]},_=$=>y[$<0?"negatives":"positives"].push(Math.abs($)),C=[],A=0;for(;o?n>=i:n<=i;)s.toRegex===!0&&r>1?_(n):C.push(Mp(w(n,A),p,f)),n=o?n-r:n+r,A++;return s.toRegex===!0?r>1?Hp(y,s):Yo(C,null,{wrap:!1,...s}):C},Bp=(t,e,r=1,s={})=>{if(!Rt(t)&&t.length>1||!Rt(e)&&e.length>1)return Jo(t,e,s);let n=s.transform||(f=>String.fromCharCode(f)),i=`${t}`.charCodeAt(0),o=`${e}`.charCodeAt(0),a=i>o,c=Math.min(i,o),u=Math.max(i,o);if(s.toRegex&&r===1)return Qo(c,u,!1,s);let l=[],p=0;for(;a?i>=o:i<=o;)l.push(n(i,p)),i=a?i-r:i+r,p++;return s.toRegex===!0?Yo(l,null,{wrap:!1,options:s}):l},er=(t,e,r,s={})=>{if(e==null&&Ns(t))return[t];if(!Ns(t)||!Ns(e))return Jo(t,e,s);if(typeof r=="function")return er(t,e,1,{transform:r});if(Xo(r))return er(t,e,0,r);let n={...s};return n.capture===!0&&(n.wrap=!0),r=r||n.step||1,Rt(r)?Rt(t)&&Rt(e)?jp(t,e,r,n):Bp(t,e,Math.max(Math.abs(r),1),n):r!=null&&!Xo(r)?Fp(r,n):er(t,e,1,r)};ea.exports=er});var sa=g((wb,ra)=>{"use strict";var Gp=Ds(),ta=Zt(),Wp=(t,e={})=>{let r=(s,n={})=>{let i=ta.isInvalidBrace(n),o=s.invalid===!0&&e.escapeInvalid===!0,a=i===!0||o===!0,c=e.escapeInvalid===!0?"\\":"",u="";if(s.isOpen===!0||s.isClose===!0)return c+s.value;if(s.type==="open")return a?c+s.value:"(";if(s.type==="close")return a?c+s.value:")";if(s.type==="comma")return s.prev.type==="comma"?"":a?s.value:"|";if(s.value)return s.value;if(s.nodes&&s.ranges>0){let l=ta.reduce(s.nodes),p=Gp(...l,{...e,wrap:!1,toRegex:!0});if(p.length!==0)return l.length>1&&p.length>1?`(${p})`:p}if(s.nodes)for(let l of s.nodes)u+=r(l,s);return u};return r(t)};ra.exports=Wp});var oa=g((xb,ia)=>{"use strict";var Up=Ds(),na=Jt(),Ve=Zt(),De=(t="",e="",r=!1)=>{let s=[];if(t=[].concat(t),e=[].concat(e),!e.length)return t;if(!t.length)return r?Ve.flatten(e).map(n=>`{${n}}`):e;for(let n of t)if(Array.isArray(n))for(let i of n)s.push(De(i,e,r));else for(let i of e)r===!0&&typeof i=="string"&&(i=`{${i}}`),s.push(Array.isArray(i)?De(n,i,r):n+i);return Ve.flatten(s)},Kp=(t,e={})=>{let r=e.rangeLimit===void 0?1e3:e.rangeLimit,s=(n,i={})=>{n.queue=[];let o=i,a=i.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,a=o.queue;if(n.invalid||n.dollar){a.push(De(a.pop(),na(n,e)));return}if(n.type==="brace"&&n.invalid!==!0&&n.nodes.length===2){a.push(De(a.pop(),["{}"]));return}if(n.nodes&&n.ranges>0){let p=Ve.reduce(n.nodes);if(Ve.exceedsLimit(...p,e.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let f=Up(...p,e);f.length===0&&(f=na(n,e)),a.push(De(a.pop(),f)),n.nodes=[];return}let c=Ve.encloseBrace(n),u=n.queue,l=n;for(;l.type!=="brace"&&l.type!=="root"&&l.parent;)l=l.parent,u=l.queue;for(let p=0;p<n.nodes.length;p++){let f=n.nodes[p];if(f.type==="comma"&&n.type==="brace"){p===1&&u.push(""),u.push("");continue}if(f.type==="close"){a.push(De(a.pop(),u,c));continue}if(f.value&&f.type!=="open"){u.push(De(u.pop(),f.value));continue}f.nodes&&s(f,n)}return u};return Ve.flatten(s(t))};ia.exports=Kp});var ca=g((Ab,aa)=>{"use strict";aa.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var ha=g((Cb,pa)=>{"use strict";var Xp=Jt(),{MAX_LENGTH:ua,CHAR_BACKSLASH:Ms,CHAR_BACKTICK:Vp,CHAR_COMMA:zp,CHAR_DOT:Qp,CHAR_LEFT_PARENTHESES:Yp,CHAR_RIGHT_PARENTHESES:Zp,CHAR_LEFT_CURLY_BRACE:Jp,CHAR_RIGHT_CURLY_BRACE:eh,CHAR_LEFT_SQUARE_BRACKET:la,CHAR_RIGHT_SQUARE_BRACKET:fa,CHAR_DOUBLE_QUOTE:th,CHAR_SINGLE_QUOTE:rh,CHAR_NO_BREAK_SPACE:sh,CHAR_ZERO_WIDTH_NOBREAK_SPACE:nh}=ca(),ih=(t,e={})=>{if(typeof t!="string")throw new TypeError("Expected a string");let r=e||{},s=typeof r.maxLength=="number"?Math.min(ua,r.maxLength):ua;if(t.length>s)throw new SyntaxError(`Input length (${t.length}), exceeds max characters (${s})`);let n={type:"root",input:t,nodes:[]},i=[n],o=n,a=n,c=0,u=t.length,l=0,p=0,f,w={},y=()=>t[l++],_=C=>{if(C.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&C.type==="text"){a.value+=C.value;return}return o.nodes.push(C),C.parent=o,C.prev=a,a=C,C};for(_({type:"bos"});l<u;)if(o=i[i.length-1],f=y(),!(f===nh||f===sh)){if(f===Ms){_({type:"text",value:(e.keepEscaping?f:"")+y()});continue}if(f===fa){_({type:"text",value:"\\"+f});continue}if(f===la){c++;let C=!0,A;for(;l<u&&(A=y());){if(f+=A,A===la){c++;continue}if(A===Ms){f+=y();continue}if(A===fa&&(c--,c===0))break}_({type:"text",value:f});continue}if(f===Yp){o=_({type:"paren",nodes:[]}),i.push(o),_({type:"text",value:f});continue}if(f===Zp){if(o.type!=="paren"){_({type:"text",value:f});continue}o=i.pop(),_({type:"text",value:f}),o=i[i.length-1];continue}if(f===th||f===rh||f===Vp){let C=f,A;for(e.keepQuotes!==!0&&(f="");l<u&&(A=y());){if(A===Ms){f+=A+y();continue}if(A===C){e.keepQuotes===!0&&(f+=A);break}f+=A}_({type:"text",value:f});continue}if(f===Jp){p++;let A={type:"brace",open:!0,close:!1,dollar:a.value&&a.value.slice(-1)==="$"||o.dollar===!0,depth:p,commas:0,ranges:0,nodes:[]};o=_(A),i.push(o),_({type:"open",value:f});continue}if(f===eh){if(o.type!=="brace"){_({type:"text",value:f});continue}let C="close";o=i.pop(),o.close=!0,_({type:C,value:f}),p--,o=i[i.length-1];continue}if(f===zp&&p>0){if(o.ranges>0){o.ranges=0;let C=o.nodes.shift();o.nodes=[C,{type:"text",value:Xp(o)}]}_({type:"comma",value:f}),o.commas++;continue}if(f===Qp&&p>0&&o.commas===0){let C=o.nodes;if(p===0||C.length===0){_({type:"text",value:f});continue}if(a.type==="dot"){if(o.range=[],a.value+=f,a.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,a.type="text";continue}o.ranges++,o.args=[];continue}if(a.type==="range"){C.pop();let A=C[C.length-1];A.value+=a.value+f,a=A,o.ranges--;continue}_({type:"dot",value:f});continue}_({type:"text",value:f})}do if(o=i.pop(),o.type!=="root"){o.nodes.forEach($=>{$.nodes||($.type==="open"&&($.isOpen=!0),$.type==="close"&&($.isClose=!0),$.nodes||($.type="text"),$.invalid=!0)});let C=i[i.length-1],A=C.nodes.indexOf(o);C.nodes.splice(A,1,...o.nodes)}while(i.length>0);return _({type:"eos"}),n};pa.exports=ih});var ga=g((Rb,ma)=>{"use strict";var da=Jt(),oh=sa(),ah=oa(),ch=ha(),se=(t,e={})=>{let r=[];if(Array.isArray(t))for(let s of t){let n=se.create(s,e);Array.isArray(n)?r.push(...n):r.push(n)}else r=[].concat(se.create(t,e));return e&&e.expand===!0&&e.nodupes===!0&&(r=[...new Set(r)]),r};se.parse=(t,e={})=>ch(t,e);se.stringify=(t,e={})=>da(typeof t=="string"?se.parse(t,e):t,e);se.compile=(t,e={})=>(typeof t=="string"&&(t=se.parse(t,e)),oh(t,e));se.expand=(t,e={})=>{typeof t=="string"&&(t=se.parse(t,e));let r=ah(t,e);return e.noempty===!0&&(r=r.filter(Boolean)),e.nodupes===!0&&(r=[...new Set(r)]),r};se.create=(t,e={})=>t===""||t.length<3?[t]:e.expand!==!0?se.compile(t,e):se.expand(t,e);ma.exports=se});var Pt=g((Pb,Ea)=>{"use strict";var uh=E("path"),ge="\\\\/",ya=`[^${ge}]`,ve="\\.",lh="\\+",fh="\\?",tr="\\/",ph="(?=.)",_a="[^/]",Hs=`(?:${tr}|$)`,ba=`(?:^|${tr})`,Fs=`${ve}{1,2}${Hs}`,hh=`(?!${ve})`,dh=`(?!${ba}${Fs})`,mh=`(?!${ve}{0,1}${Hs})`,gh=`(?!${Fs})`,yh=`[^.${tr}]`,_h=`${_a}*?`,Sa={DOT_LITERAL:ve,PLUS_LITERAL:lh,QMARK_LITERAL:fh,SLASH_LITERAL:tr,ONE_CHAR:ph,QMARK:_a,END_ANCHOR:Hs,DOTS_SLASH:Fs,NO_DOT:hh,NO_DOTS:dh,NO_DOT_SLASH:mh,NO_DOTS_SLASH:gh,QMARK_NO_DOT:yh,STAR:_h,START_ANCHOR:ba},bh={...Sa,SLASH_LITERAL:`[${ge}]`,QMARK:ya,STAR:`${ya}*?`,DOTS_SLASH:`${ve}{1,2}(?:[${ge}]|$)`,NO_DOT:`(?!${ve})`,NO_DOTS:`(?!(?:^|[${ge}])${ve}{1,2}(?:[${ge}]|$))`,NO_DOT_SLASH:`(?!${ve}{0,1}(?:[${ge}]|$))`,NO_DOTS_SLASH:`(?!${ve}{1,2}(?:[${ge}]|$))`,QMARK_NO_DOT:`[^.${ge}]`,START_ANCHOR:`(?:^|[${ge}])`,END_ANCHOR:`(?:[${ge}]|$)`},Sh={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};Ea.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:Sh,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:uh.sep,extglobChars(t){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(t){return t===!0?bh:Sa}}});var Tt=g(J=>{"use strict";var Eh=E("path"),vh=process.platform==="win32",{REGEX_BACKSLASH:wh,REGEX_REMOVE_BACKSLASH:xh,REGEX_SPECIAL_CHARS:Ah,REGEX_SPECIAL_CHARS_GLOBAL:Ch}=Pt();J.isObject=t=>t!==null&&typeof t=="object"&&!Array.isArray(t);J.hasRegexChars=t=>Ah.test(t);J.isRegexChar=t=>t.length===1&&J.hasRegexChars(t);J.escapeRegex=t=>t.replace(Ch,"\\$1");J.toPosixSlashes=t=>t.replace(wh,"/");J.removeBackslashes=t=>t.replace(xh,e=>e==="\\"?"":e);J.supportsLookbehinds=()=>{let t=process.version.slice(1).split(".").map(Number);return t.length===3&&t[0]>=9||t[0]===8&&t[1]>=10};J.isWindows=t=>t&&typeof t.windows=="boolean"?t.windows:vh===!0||Eh.sep==="\\";J.escapeLast=(t,e,r)=>{let s=t.lastIndexOf(e,r);return s===-1?t:t[s-1]==="\\"?J.escapeLast(t,e,s-1):`${t.slice(0,s)}\\${t.slice(s)}`};J.removePrefix=(t,e={})=>{let r=t;return r.startsWith("./")&&(r=r.slice(2),e.prefix="./"),r};J.wrapOutput=(t,e={},r={})=>{let s=r.contains?"":"^",n=r.contains?"":"$",i=`${s}(?:${t})${n}`;return e.negated===!0&&(i=`(?:^(?!${i}).*$)`),i}});var Ta=g((kb,Pa)=>{"use strict";var va=Tt(),{CHAR_ASTERISK:js,CHAR_AT:Rh,CHAR_BACKWARD_SLASH:kt,CHAR_COMMA:Ph,CHAR_DOT:Bs,CHAR_EXCLAMATION_MARK:Gs,CHAR_FORWARD_SLASH:Ra,CHAR_LEFT_CURLY_BRACE:Ws,CHAR_LEFT_PARENTHESES:Us,CHAR_LEFT_SQUARE_BRACKET:Th,CHAR_PLUS:kh,CHAR_QUESTION_MARK:wa,CHAR_RIGHT_CURLY_BRACE:Oh,CHAR_RIGHT_PARENTHESES:xa,CHAR_RIGHT_SQUARE_BRACKET:Ih}=Pt(),Aa=t=>t===Ra||t===kt,Ca=t=>{t.isPrefix!==!0&&(t.depth=t.isGlobstar?1/0:1)},$h=(t,e)=>{let r=e||{},s=t.length-1,n=r.parts===!0||r.scanToEnd===!0,i=[],o=[],a=[],c=t,u=-1,l=0,p=0,f=!1,w=!1,y=!1,_=!1,C=!1,A=!1,$=!1,L=!1,O=!1,S=!1,I=0,T,x,N={value:"",depth:0,isGlob:!1},W=()=>u>=s,m=()=>c.charCodeAt(u+1),F=()=>(T=x,c.charCodeAt(++u));for(;u<s;){x=F();let Y;if(x===kt){$=N.backslashes=!0,x=F(),x===Ws&&(A=!0);continue}if(A===!0||x===Ws){for(I++;W()!==!0&&(x=F());){if(x===kt){$=N.backslashes=!0,F();continue}if(x===Ws){I++;continue}if(A!==!0&&x===Bs&&(x=F())===Bs){if(f=N.isBrace=!0,y=N.isGlob=!0,S=!0,n===!0)continue;break}if(A!==!0&&x===Ph){if(f=N.isBrace=!0,y=N.isGlob=!0,S=!0,n===!0)continue;break}if(x===Oh&&(I--,I===0)){A=!1,f=N.isBrace=!0,S=!0;break}}if(n===!0)continue;break}if(x===Ra){if(i.push(u),o.push(N),N={value:"",depth:0,isGlob:!1},S===!0)continue;if(T===Bs&&u===l+1){l+=2;continue}p=u+1;continue}if(r.noext!==!0&&(x===kh||x===Rh||x===js||x===wa||x===Gs)===!0&&m()===Us){if(y=N.isGlob=!0,_=N.isExtglob=!0,S=!0,x===Gs&&u===l&&(O=!0),n===!0){for(;W()!==!0&&(x=F());){if(x===kt){$=N.backslashes=!0,x=F();continue}if(x===xa){y=N.isGlob=!0,S=!0;break}}continue}break}if(x===js){if(T===js&&(C=N.isGlobstar=!0),y=N.isGlob=!0,S=!0,n===!0)continue;break}if(x===wa){if(y=N.isGlob=!0,S=!0,n===!0)continue;break}if(x===Th){for(;W()!==!0&&(Y=F());){if(Y===kt){$=N.backslashes=!0,F();continue}if(Y===Ih){w=N.isBracket=!0,y=N.isGlob=!0,S=!0;break}}if(n===!0)continue;break}if(r.nonegate!==!0&&x===Gs&&u===l){L=N.negated=!0,l++;continue}if(r.noparen!==!0&&x===Us){if(y=N.isGlob=!0,n===!0){for(;W()!==!0&&(x=F());){if(x===Us){$=N.backslashes=!0,x=F();continue}if(x===xa){S=!0;break}}continue}break}if(y===!0){if(S=!0,n===!0)continue;break}}r.noext===!0&&(_=!1,y=!1);let H=c,Ce="",h="";l>0&&(Ce=c.slice(0,l),c=c.slice(l),p-=l),H&&y===!0&&p>0?(H=c.slice(0,p),h=c.slice(p)):y===!0?(H="",h=c):H=c,H&&H!==""&&H!=="/"&&H!==c&&Aa(H.charCodeAt(H.length-1))&&(H=H.slice(0,-1)),r.unescape===!0&&(h&&(h=va.removeBackslashes(h)),H&&$===!0&&(H=va.removeBackslashes(H)));let d={prefix:Ce,input:t,start:l,base:H,glob:h,isBrace:f,isBracket:w,isGlob:y,isExtglob:_,isGlobstar:C,negated:L,negatedExtglob:O};if(r.tokens===!0&&(d.maxDepth=0,Aa(x)||o.push(N),d.tokens=o),r.parts===!0||r.tokens===!0){let Y;for(let M=0;M<i.length;M++){let de=Y?Y+1:l,me=i[M],te=t.slice(de,me);r.tokens&&(M===0&&l!==0?(o[M].isPrefix=!0,o[M].value=Ce):o[M].value=te,Ca(o[M]),d.maxDepth+=o[M].depth),(M!==0||te!=="")&&a.push(te),Y=me}if(Y&&Y+1<t.length){let M=t.slice(Y+1);a.push(M),r.tokens&&(o[o.length-1].value=M,Ca(o[o.length-1]),d.maxDepth+=o[o.length-1].depth)}d.slashes=i,d.parts=a}return d};Pa.exports=$h});var Ia=g((Ob,Oa)=>{"use strict";var rr=Pt(),ne=Tt(),{MAX_LENGTH:sr,POSIX_REGEX_SOURCE:Lh,REGEX_NON_SPECIAL_CHARS:Nh,REGEX_SPECIAL_CHARS_BACKREF:qh,REPLACEMENTS:ka}=rr,Dh=(t,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...t,e);t.sort();let r=`[${t.join("-")}]`;try{new RegExp(r)}catch{return t.map(n=>ne.escapeRegex(n)).join("..")}return r},ze=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,Ks=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");t=ka[t]||t;let r={...e},s=typeof r.maxLength=="number"?Math.min(sr,r.maxLength):sr,n=t.length;if(n>s)throw new SyntaxError(`Input length: ${n}, exceeds maximum allowed length: ${s}`);let i={type:"bos",value:"",output:r.prepend||""},o=[i],a=r.capture?"":"?:",c=ne.isWindows(e),u=rr.globChars(c),l=rr.extglobChars(u),{DOT_LITERAL:p,PLUS_LITERAL:f,SLASH_LITERAL:w,ONE_CHAR:y,DOTS_SLASH:_,NO_DOT:C,NO_DOT_SLASH:A,NO_DOTS_SLASH:$,QMARK:L,QMARK_NO_DOT:O,STAR:S,START_ANCHOR:I}=u,T=v=>`(${a}(?:(?!${I}${v.dot?_:p}).)*?)`,x=r.dot?"":C,N=r.dot?L:O,W=r.bash===!0?T(r):S;r.capture&&(W=`(${W})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let m={input:t,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};t=ne.removePrefix(t,m),n=t.length;let F=[],H=[],Ce=[],h=i,d,Y=()=>m.index===n-1,M=m.peek=(v=1)=>t[m.index+v],de=m.advance=()=>t[++m.index]||"",me=()=>t.slice(m.index+1),te=(v="",j=0)=>{m.consumed+=v,m.index+=j},Ut=v=>{m.output+=v.output!=null?v.output:v.value,te(v.value)},Xf=()=>{let v=1;for(;M()==="!"&&(M(2)!=="("||M(3)==="?");)de(),m.start++,v++;return v%2===0?!1:(m.negated=!0,m.start++,!0)},Kt=v=>{m[v]++,Ce.push(v)},Ne=v=>{m[v]--,Ce.pop()},D=v=>{if(h.type==="globstar"){let j=m.braces>0&&(v.type==="comma"||v.type==="brace"),b=v.extglob===!0||F.length&&(v.type==="pipe"||v.type==="paren");v.type!=="slash"&&v.type!=="paren"&&!j&&!b&&(m.output=m.output.slice(0,-h.output.length),h.type="star",h.value="*",h.output=W,m.output+=h.output)}if(F.length&&v.type!=="paren"&&(F[F.length-1].inner+=v.value),(v.value||v.output)&&Ut(v),h&&h.type==="text"&&v.type==="text"){h.value+=v.value,h.output=(h.output||"")+v.value;return}v.prev=h,o.push(v),h=v},Xt=(v,j)=>{let b={...l[j],conditions:1,inner:""};b.prev=h,b.parens=m.parens,b.output=m.output;let q=(r.capture?"(":"")+b.open;Kt("parens"),D({type:v,value:j,output:m.output?"":y}),D({type:"paren",extglob:!0,value:de(),output:q}),F.push(b)},Vf=v=>{let j=v.close+(r.capture?")":""),b;if(v.type==="negate"){let q=W;if(v.inner&&v.inner.length>1&&v.inner.includes("/")&&(q=T(r)),(q!==W||Y()||/^\)+$/.test(me()))&&(j=v.close=`)$))${q}`),v.inner.includes("*")&&(b=me())&&/^\.[^\\/.]+$/.test(b)){let G=Ks(b,{...e,fastpaths:!1}).output;j=v.close=`)${G})${q})`}v.prev.type==="bos"&&(m.negatedExtglob=!0)}D({type:"paren",extglob:!0,value:d,output:j}),Ne("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(t)){let v=!1,j=t.replace(qh,(b,q,G,Z,X,Ps)=>Z==="\\"?(v=!0,b):Z==="?"?q?q+Z+(X?L.repeat(X.length):""):Ps===0?N+(X?L.repeat(X.length):""):L.repeat(G.length):Z==="."?p.repeat(G.length):Z==="*"?q?q+Z+(X?W:""):W:q?b:`\\${b}`);return v===!0&&(r.unescape===!0?j=j.replace(/\\/g,""):j=j.replace(/\\+/g,b=>b.length%2===0?"\\\\":b?"\\":"")),j===t&&r.contains===!0?(m.output=t,m):(m.output=ne.wrapOutput(j,m,e),m)}for(;!Y();){if(d=de(),d==="\0")continue;if(d==="\\"){let b=M();if(b==="/"&&r.bash!==!0||b==="."||b===";")continue;if(!b){d+="\\",D({type:"text",value:d});continue}let q=/^\\+/.exec(me()),G=0;if(q&&q[0].length>2&&(G=q[0].length,m.index+=G,G%2!==0&&(d+="\\")),r.unescape===!0?d=de():d+=de(),m.brackets===0){D({type:"text",value:d});continue}}if(m.brackets>0&&(d!=="]"||h.value==="["||h.value==="[^")){if(r.posix!==!1&&d===":"){let b=h.value.slice(1);if(b.includes("[")&&(h.posix=!0,b.includes(":"))){let q=h.value.lastIndexOf("["),G=h.value.slice(0,q),Z=h.value.slice(q+2),X=Lh[Z];if(X){h.value=G+X,m.backtrack=!0,de(),!i.output&&o.indexOf(h)===1&&(i.output=y);continue}}}(d==="["&&M()!==":"||d==="-"&&M()==="]")&&(d=`\\${d}`),d==="]"&&(h.value==="["||h.value==="[^")&&(d=`\\${d}`),r.posix===!0&&d==="!"&&h.value==="["&&(d="^"),h.value+=d,Ut({value:d});continue}if(m.quotes===1&&d!=='"'){d=ne.escapeRegex(d),h.value+=d,Ut({value:d});continue}if(d==='"'){m.quotes=m.quotes===1?0:1,r.keepQuotes===!0&&D({type:"text",value:d});continue}if(d==="("){Kt("parens"),D({type:"paren",value:d});continue}if(d===")"){if(m.parens===0&&r.strictBrackets===!0)throw new SyntaxError(ze("opening","("));let b=F[F.length-1];if(b&&m.parens===b.parens+1){Vf(F.pop());continue}D({type:"paren",value:d,output:m.parens?")":"\\)"}),Ne("parens");continue}if(d==="["){if(r.nobracket===!0||!me().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(ze("closing","]"));d=`\\${d}`}else Kt("brackets");D({type:"bracket",value:d});continue}if(d==="]"){if(r.nobracket===!0||h&&h.type==="bracket"&&h.value.length===1){D({type:"text",value:d,output:`\\${d}`});continue}if(m.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(ze("opening","["));D({type:"text",value:d,output:`\\${d}`});continue}Ne("brackets");let b=h.value.slice(1);if(h.posix!==!0&&b[0]==="^"&&!b.includes("/")&&(d=`/${d}`),h.value+=d,Ut({value:d}),r.literalBrackets===!1||ne.hasRegexChars(b))continue;let q=ne.escapeRegex(h.value);if(m.output=m.output.slice(0,-h.value.length),r.literalBrackets===!0){m.output+=q,h.value=q;continue}h.value=`(${a}${q}|${h.value})`,m.output+=h.value;continue}if(d==="{"&&r.nobrace!==!0){Kt("braces");let b={type:"brace",value:d,output:"(",outputIndex:m.output.length,tokensIndex:m.tokens.length};H.push(b),D(b);continue}if(d==="}"){let b=H[H.length-1];if(r.nobrace===!0||!b){D({type:"text",value:d,output:d});continue}let q=")";if(b.dots===!0){let G=o.slice(),Z=[];for(let X=G.length-1;X>=0&&(o.pop(),G[X].type!=="brace");X--)G[X].type!=="dots"&&Z.unshift(G[X].value);q=Dh(Z,r),m.backtrack=!0}if(b.comma!==!0&&b.dots!==!0){let G=m.output.slice(0,b.outputIndex),Z=m.tokens.slice(b.tokensIndex);b.value=b.output="\\{",d=q="\\}",m.output=G;for(let X of Z)m.output+=X.output||X.value}D({type:"brace",value:d,output:q}),Ne("braces"),H.pop();continue}if(d==="|"){F.length>0&&F[F.length-1].conditions++,D({type:"text",value:d});continue}if(d===","){let b=d,q=H[H.length-1];q&&Ce[Ce.length-1]==="braces"&&(q.comma=!0,b="|"),D({type:"comma",value:d,output:b});continue}if(d==="/"){if(h.type==="dot"&&m.index===m.start+1){m.start=m.index+1,m.consumed="",m.output="",o.pop(),h=i;continue}D({type:"slash",value:d,output:w});continue}if(d==="."){if(m.braces>0&&h.type==="dot"){h.value==="."&&(h.output=p);let b=H[H.length-1];h.type="dots",h.output+=d,h.value+=d,b.dots=!0;continue}if(m.braces+m.parens===0&&h.type!=="bos"&&h.type!=="slash"){D({type:"text",value:d,output:p});continue}D({type:"dot",value:d,output:p});continue}if(d==="?"){if(!(h&&h.value==="(")&&r.noextglob!==!0&&M()==="("&&M(2)!=="?"){Xt("qmark",d);continue}if(h&&h.type==="paren"){let q=M(),G=d;if(q==="<"&&!ne.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(h.value==="("&&!/[!=<:]/.test(q)||q==="<"&&!/<([!=]|\w+>)/.test(me()))&&(G=`\\${d}`),D({type:"text",value:d,output:G});continue}if(r.dot!==!0&&(h.type==="slash"||h.type==="bos")){D({type:"qmark",value:d,output:O});continue}D({type:"qmark",value:d,output:L});continue}if(d==="!"){if(r.noextglob!==!0&&M()==="("&&(M(2)!=="?"||!/[!=<:]/.test(M(3)))){Xt("negate",d);continue}if(r.nonegate!==!0&&m.index===0){Xf();continue}}if(d==="+"){if(r.noextglob!==!0&&M()==="("&&M(2)!=="?"){Xt("plus",d);continue}if(h&&h.value==="("||r.regex===!1){D({type:"plus",value:d,output:f});continue}if(h&&(h.type==="bracket"||h.type==="paren"||h.type==="brace")||m.parens>0){D({type:"plus",value:d});continue}D({type:"plus",value:f});continue}if(d==="@"){if(r.noextglob!==!0&&M()==="("&&M(2)!=="?"){D({type:"at",extglob:!0,value:d,output:""});continue}D({type:"text",value:d});continue}if(d!=="*"){(d==="$"||d==="^")&&(d=`\\${d}`);let b=Nh.exec(me());b&&(d+=b[0],m.index+=b[0].length),D({type:"text",value:d});continue}if(h&&(h.type==="globstar"||h.star===!0)){h.type="star",h.star=!0,h.value+=d,h.output=W,m.backtrack=!0,m.globstar=!0,te(d);continue}let v=me();if(r.noextglob!==!0&&/^\([^?]/.test(v)){Xt("star",d);continue}if(h.type==="star"){if(r.noglobstar===!0){te(d);continue}let b=h.prev,q=b.prev,G=b.type==="slash"||b.type==="bos",Z=q&&(q.type==="star"||q.type==="globstar");if(r.bash===!0&&(!G||v[0]&&v[0]!=="/")){D({type:"star",value:d,output:""});continue}let X=m.braces>0&&(b.type==="comma"||b.type==="brace"),Ps=F.length&&(b.type==="pipe"||b.type==="paren");if(!G&&b.type!=="paren"&&!X&&!Ps){D({type:"star",value:d,output:""});continue}for(;v.slice(0,3)==="/**";){let Vt=t[m.index+4];if(Vt&&Vt!=="/")break;v=v.slice(3),te("/**",3)}if(b.type==="bos"&&Y()){h.type="globstar",h.value+=d,h.output=T(r),m.output=h.output,m.globstar=!0,te(d);continue}if(b.type==="slash"&&b.prev.type!=="bos"&&!Z&&Y()){m.output=m.output.slice(0,-(b.output+h.output).length),b.output=`(?:${b.output}`,h.type="globstar",h.output=T(r)+(r.strictSlashes?")":"|$)"),h.value+=d,m.globstar=!0,m.output+=b.output+h.output,te(d);continue}if(b.type==="slash"&&b.prev.type!=="bos"&&v[0]==="/"){let Vt=v[1]!==void 0?"|$":"";m.output=m.output.slice(0,-(b.output+h.output).length),b.output=`(?:${b.output}`,h.type="globstar",h.output=`${T(r)}${w}|${w}${Vt})`,h.value+=d,m.output+=b.output+h.output,m.globstar=!0,te(d+de()),D({type:"slash",value:"/",output:""});continue}if(b.type==="bos"&&v[0]==="/"){h.type="globstar",h.value+=d,h.output=`(?:^|${w}|${T(r)}${w})`,m.output=h.output,m.globstar=!0,te(d+de()),D({type:"slash",value:"/",output:""});continue}m.output=m.output.slice(0,-h.output.length),h.type="globstar",h.output=T(r),h.value+=d,m.output+=h.output,m.globstar=!0,te(d);continue}let j={type:"star",value:d,output:W};if(r.bash===!0){j.output=".*?",(h.type==="bos"||h.type==="slash")&&(j.output=x+j.output),D(j);continue}if(h&&(h.type==="bracket"||h.type==="paren")&&r.regex===!0){j.output=d,D(j);continue}(m.index===m.start||h.type==="slash"||h.type==="dot")&&(h.type==="dot"?(m.output+=A,h.output+=A):r.dot===!0?(m.output+=$,h.output+=$):(m.output+=x,h.output+=x),M()!=="*"&&(m.output+=y,h.output+=y)),D(j)}for(;m.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(ze("closing","]"));m.output=ne.escapeLast(m.output,"["),Ne("brackets")}for(;m.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(ze("closing",")"));m.output=ne.escapeLast(m.output,"("),Ne("parens")}for(;m.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(ze("closing","}"));m.output=ne.escapeLast(m.output,"{"),Ne("braces")}if(r.strictSlashes!==!0&&(h.type==="star"||h.type==="bracket")&&D({type:"maybe_slash",value:"",output:`${w}?`}),m.backtrack===!0){m.output="";for(let v of m.tokens)m.output+=v.output!=null?v.output:v.value,v.suffix&&(m.output+=v.suffix)}return m};Ks.fastpaths=(t,e)=>{let r={...e},s=typeof r.maxLength=="number"?Math.min(sr,r.maxLength):sr,n=t.length;if(n>s)throw new SyntaxError(`Input length: ${n}, exceeds maximum allowed length: ${s}`);t=ka[t]||t;let i=ne.isWindows(e),{DOT_LITERAL:o,SLASH_LITERAL:a,ONE_CHAR:c,DOTS_SLASH:u,NO_DOT:l,NO_DOTS:p,NO_DOTS_SLASH:f,STAR:w,START_ANCHOR:y}=rr.globChars(i),_=r.dot?p:l,C=r.dot?f:l,A=r.capture?"":"?:",$={negated:!1,prefix:""},L=r.bash===!0?".*?":w;r.capture&&(L=`(${L})`);let O=x=>x.noglobstar===!0?L:`(${A}(?:(?!${y}${x.dot?u:o}).)*?)`,S=x=>{switch(x){case"*":return`${_}${c}${L}`;case".*":return`${o}${c}${L}`;case"*.*":return`${_}${L}${o}${c}${L}`;case"*/*":return`${_}${L}${a}${c}${C}${L}`;case"**":return _+O(r);case"**/*":return`(?:${_}${O(r)}${a})?${C}${c}${L}`;case"**/*.*":return`(?:${_}${O(r)}${a})?${C}${L}${o}${c}${L}`;case"**/.*":return`(?:${_}${O(r)}${a})?${o}${c}${L}`;default:{let N=/^(.*?)\.(\w+)$/.exec(x);if(!N)return;let W=S(N[1]);return W?W+o+N[2]:void 0}}},I=ne.removePrefix(t,$),T=S(I);return T&&r.strictSlashes!==!0&&(T+=`${a}?`),T};Oa.exports=Ks});var La=g((Ib,$a)=>{"use strict";var Mh=E("path"),Hh=Ta(),Xs=Ia(),Vs=Tt(),Fh=Pt(),jh=t=>t&&typeof t=="object"&&!Array.isArray(t),U=(t,e,r=!1)=>{if(Array.isArray(t)){let l=t.map(f=>U(f,e,r));return f=>{for(let w of l){let y=w(f);if(y)return y}return!1}}let s=jh(t)&&t.tokens&&t.input;if(t===""||typeof t!="string"&&!s)throw new TypeError("Expected pattern to be a non-empty string");let n=e||{},i=Vs.isWindows(e),o=s?U.compileRe(t,e):U.makeRe(t,e,!1,!0),a=o.state;delete o.state;let c=()=>!1;if(n.ignore){let l={...e,ignore:null,onMatch:null,onResult:null};c=U(n.ignore,l,r)}let u=(l,p=!1)=>{let{isMatch:f,match:w,output:y}=U.test(l,o,e,{glob:t,posix:i}),_={glob:t,state:a,regex:o,posix:i,input:l,output:y,match:w,isMatch:f};return typeof n.onResult=="function"&&n.onResult(_),f===!1?(_.isMatch=!1,p?_:!1):c(l)?(typeof n.onIgnore=="function"&&n.onIgnore(_),_.isMatch=!1,p?_:!1):(typeof n.onMatch=="function"&&n.onMatch(_),p?_:!0)};return r&&(u.state=a),u};U.test=(t,e,r,{glob:s,posix:n}={})=>{if(typeof t!="string")throw new TypeError("Expected input to be a string");if(t==="")return{isMatch:!1,output:""};let i=r||{},o=i.format||(n?Vs.toPosixSlashes:null),a=t===s,c=a&&o?o(t):t;return a===!1&&(c=o?o(t):t,a=c===s),(a===!1||i.capture===!0)&&(i.matchBase===!0||i.basename===!0?a=U.matchBase(t,e,r,n):a=e.exec(c)),{isMatch:Boolean(a),match:a,output:c}};U.matchBase=(t,e,r,s=Vs.isWindows(r))=>(e instanceof RegExp?e:U.makeRe(e,r)).test(Mh.basename(t));U.isMatch=(t,e,r)=>U(e,r)(t);U.parse=(t,e)=>Array.isArray(t)?t.map(r=>U.parse(r,e)):Xs(t,{...e,fastpaths:!1});U.scan=(t,e)=>Hh(t,e);U.compileRe=(t,e,r=!1,s=!1)=>{if(r===!0)return t.output;let n=e||{},i=n.contains?"":"^",o=n.contains?"":"$",a=`${i}(?:${t.output})${o}`;t&&t.negated===!0&&(a=`^(?!${a}).*$`);let c=U.toRegex(a,e);return s===!0&&(c.state=t),c};U.makeRe=(t,e={},r=!1,s=!1)=>{if(!t||typeof t!="string")throw new TypeError("Expected a non-empty string");let n={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(t[0]==="."||t[0]==="*")&&(n.output=Xs.fastpaths(t,e)),n.output||(n=Xs(t,e)),U.compileRe(n,e,r,s)};U.toRegex=(t,e)=>{try{let r=e||{};return new RegExp(t,r.flags||(r.nocase?"i":""))}catch(r){if(e&&e.debug===!0)throw r;return/$^/}};U.constants=Fh;$a.exports=U});var qa=g(($b,Na)=>{"use strict";Na.exports=La()});var ja=g((Lb,Fa)=>{"use strict";var Ma=E("util"),Ha=ga(),ye=qa(),zs=Tt(),Da=t=>t===""||t==="./",B=(t,e,r)=>{e=[].concat(e),t=[].concat(t);let s=new Set,n=new Set,i=new Set,o=0,a=l=>{i.add(l.output),r&&r.onResult&&r.onResult(l)};for(let l=0;l<e.length;l++){let p=ye(String(e[l]),{...r,onResult:a},!0),f=p.state.negated||p.state.negatedExtglob;f&&o++;for(let w of t){let y=p(w,!0);!(f?!y.isMatch:y.isMatch)||(f?s.add(y.output):(s.delete(y.output),n.add(y.output)))}}let u=(o===e.length?[...i]:[...n]).filter(l=>!s.has(l));if(r&&u.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${e.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?e.map(l=>l.replace(/\\/g,"")):e}return u};B.match=B;B.matcher=(t,e)=>ye(t,e);B.isMatch=(t,e,r)=>ye(e,r)(t);B.any=B.isMatch;B.not=(t,e,r={})=>{e=[].concat(e).map(String);let s=new Set,n=[],i=a=>{r.onResult&&r.onResult(a),n.push(a.output)},o=new Set(B(t,e,{...r,onResult:i}));for(let a of n)o.has(a)||s.add(a);return[...s]};B.contains=(t,e,r)=>{if(typeof t!="string")throw new TypeError(`Expected a string: "${Ma.inspect(t)}"`);if(Array.isArray(e))return e.some(s=>B.contains(t,s,r));if(typeof e=="string"){if(Da(t)||Da(e))return!1;if(t.includes(e)||t.startsWith("./")&&t.slice(2).includes(e))return!0}return B.isMatch(t,e,{...r,contains:!0})};B.matchKeys=(t,e,r)=>{if(!zs.isObject(t))throw new TypeError("Expected the first argument to be an object");let s=B(Object.keys(t),e,r),n={};for(let i of s)n[i]=t[i];return n};B.some=(t,e,r)=>{let s=[].concat(t);for(let n of[].concat(e)){let i=ye(String(n),r);if(s.some(o=>i(o)))return!0}return!1};B.every=(t,e,r)=>{let s=[].concat(t);for(let n of[].concat(e)){let i=ye(String(n),r);if(!s.every(o=>i(o)))return!1}return!0};B.all=(t,e,r)=>{if(typeof t!="string")throw new TypeError(`Expected a string: "${Ma.inspect(t)}"`);return[].concat(e).every(s=>ye(s,r)(t))};B.capture=(t,e,r)=>{let s=zs.isWindows(r),i=ye.makeRe(String(t),{...r,capture:!0}).exec(s?zs.toPosixSlashes(e):e);if(i)return i.slice(1).map(o=>o===void 0?"":o)};B.makeRe=(...t)=>ye.makeRe(...t);B.scan=(...t)=>ye.scan(...t);B.parse=(t,e)=>{let r=[];for(let s of[].concat(t||[]))for(let n of Ha(String(s),e))r.push(ye.parse(n,e));return r};B.braces=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");return e&&e.nobrace===!0||!/\{.*\}/.test(t)?[t]:Ha(t,e)};B.braceExpand=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");return B.braces(t,{...e,expand:!0})};Fa.exports=B});var za=g(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});k.removeDuplicateSlashes=k.matchAny=k.convertPatternsToRe=k.makeRe=k.getPatternParts=k.expandBraceExpansion=k.expandPatternsWithBraceExpansion=k.isAffectDepthOfReadingPattern=k.endsWithSlashGlobStar=k.hasGlobStar=k.getBaseDirectory=k.isPatternRelatedToParentDirectory=k.getPatternsOutsideCurrentDirectory=k.getPatternsInsideCurrentDirectory=k.getPositivePatterns=k.getNegativePatterns=k.isPositivePattern=k.isNegativePattern=k.convertToNegativePattern=k.convertToPositivePattern=k.isDynamicPattern=k.isStaticPattern=void 0;var Bh=E("path"),Gh=$o(),Qs=ja(),Ba="**",Wh="\\",Uh=/[*?]|^!/,Kh=/\[[^[]*]/,Xh=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,Vh=/[!*+?@]\([^(]*\)/,zh=/,|\.\./,Qh=/(?!^)\/{2,}/g;function Ga(t,e={}){return!Wa(t,e)}k.isStaticPattern=Ga;function Wa(t,e={}){return t===""?!1:!!(e.caseSensitiveMatch===!1||t.includes(Wh)||Uh.test(t)||Kh.test(t)||Xh.test(t)||e.extglob!==!1&&Vh.test(t)||e.braceExpansion!==!1&&Yh(t))}k.isDynamicPattern=Wa;function Yh(t){let e=t.indexOf("{");if(e===-1)return!1;let r=t.indexOf("}",e+1);if(r===-1)return!1;let s=t.slice(e,r);return zh.test(s)}function Zh(t){return nr(t)?t.slice(1):t}k.convertToPositivePattern=Zh;function Jh(t){return"!"+t}k.convertToNegativePattern=Jh;function nr(t){return t.startsWith("!")&&t[1]!=="("}k.isNegativePattern=nr;function Ua(t){return!nr(t)}k.isPositivePattern=Ua;function ed(t){return t.filter(nr)}k.getNegativePatterns=ed;function td(t){return t.filter(Ua)}k.getPositivePatterns=td;function rd(t){return t.filter(e=>!Ys(e))}k.getPatternsInsideCurrentDirectory=rd;function sd(t){return t.filter(Ys)}k.getPatternsOutsideCurrentDirectory=sd;function Ys(t){return t.startsWith("..")||t.startsWith("./..")}k.isPatternRelatedToParentDirectory=Ys;function nd(t){return Gh(t,{flipBackslashes:!1})}k.getBaseDirectory=nd;function id(t){return t.includes(Ba)}k.hasGlobStar=id;function Ka(t){return t.endsWith("/"+Ba)}k.endsWithSlashGlobStar=Ka;function od(t){let e=Bh.basename(t);return Ka(t)||Ga(e)}k.isAffectDepthOfReadingPattern=od;function ad(t){return t.reduce((e,r)=>e.concat(Xa(r)),[])}k.expandPatternsWithBraceExpansion=ad;function Xa(t){let e=Qs.braces(t,{expand:!0,nodupes:!0});return e.sort((r,s)=>r.length-s.length),e.filter(r=>r!=="")}k.expandBraceExpansion=Xa;function cd(t,e){let{parts:r}=Qs.scan(t,Object.assign(Object.assign({},e),{parts:!0}));return r.length===0&&(r=[t]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r}k.getPatternParts=cd;function Va(t,e){return Qs.makeRe(t,e)}k.makeRe=Va;function ud(t,e){return t.map(r=>Va(r,e))}k.convertPatternsToRe=ud;function ld(t,e){return e.some(r=>r.test(t))}k.matchAny=ld;function fd(t){return t.replace(Qh,"/")}k.removeDuplicateSlashes=fd});var Ya=g(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.merge=void 0;var pd=Ts();function hd(t){let e=pd(t);return t.forEach(r=>{r.once("error",s=>e.emit("error",s))}),e.once("close",()=>Qa(t)),e.once("end",()=>Qa(t)),e}ir.merge=hd;function Qa(t){t.forEach(e=>e.emit("close"))}});var Za=g(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.isEmpty=Qe.isString=void 0;function dd(t){return typeof t=="string"}Qe.isString=dd;function md(t){return t===""}Qe.isEmpty=md});var we=g(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.string=z.stream=z.pattern=z.path=z.fs=z.errno=z.array=void 0;var gd=So();z.array=gd;var yd=Eo();z.errno=yd;var _d=vo();z.fs=_d;var bd=Co();z.path=bd;var Sd=za();z.pattern=Sd;var Ed=Ya();z.stream=Ed;var vd=Za();z.string=vd});var rc=g(Q=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});Q.convertPatternGroupToTask=Q.convertPatternGroupsToTasks=Q.groupPatternsByBaseDirectory=Q.getNegativePatternsAsPositive=Q.getPositivePatterns=Q.convertPatternsToTasks=Q.generate=void 0;var le=we();function wd(t,e){let r=Ja(t,e),s=Ja(e.ignore,e),n=ec(r),i=tc(r,s),o=n.filter(l=>le.pattern.isStaticPattern(l,e)),a=n.filter(l=>le.pattern.isDynamicPattern(l,e)),c=Zs(o,i,!1),u=Zs(a,i,!0);return c.concat(u)}Q.generate=wd;function Ja(t,e){let r=t;return e.braceExpansion&&(r=le.pattern.expandPatternsWithBraceExpansion(r)),e.baseNameMatch&&(r=r.map(s=>s.includes("/")?s:`**/${s}`)),r.map(s=>le.pattern.removeDuplicateSlashes(s))}function Zs(t,e,r){let s=[],n=le.pattern.getPatternsOutsideCurrentDirectory(t),i=le.pattern.getPatternsInsideCurrentDirectory(t),o=Js(n),a=Js(i);return s.push(...en(o,e,r)),"."in a?s.push(tn(".",i,e,r)):s.push(...en(a,e,r)),s}Q.convertPatternsToTasks=Zs;function ec(t){return le.pattern.getPositivePatterns(t)}Q.getPositivePatterns=ec;function tc(t,e){return le.pattern.getNegativePatterns(t).concat(e).map(le.pattern.convertToPositivePattern)}Q.getNegativePatternsAsPositive=tc;function Js(t){let e={};return t.reduce((r,s)=>{let n=le.pattern.getBaseDirectory(s);return n in r?r[n].push(s):r[n]=[s],r},e)}Q.groupPatternsByBaseDirectory=Js;function en(t,e,r){return Object.keys(t).map(s=>tn(s,t[s],e,r))}Q.convertPatternGroupsToTasks=en;function tn(t,e,r,s){return{dynamic:s,positive:e,negative:r,base:t,patterns:[].concat(e,r.map(le.pattern.convertToNegativePattern))}}Q.convertPatternGroupToTask=tn});var nc=g(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.read=void 0;function xd(t,e,r){e.fs.lstat(t,(s,n)=>{if(s!==null){sc(r,s);return}if(!n.isSymbolicLink()||!e.followSymbolicLink){rn(r,n);return}e.fs.stat(t,(i,o)=>{if(i!==null){if(e.throwErrorOnBrokenSymbolicLink){sc(r,i);return}rn(r,n);return}e.markSymbolicLink&&(o.isSymbolicLink=()=>!0),rn(r,o)})})}or.read=xd;function sc(t,e){t(e)}function rn(t,e){t(null,e)}});var ic=g(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.read=void 0;function Ad(t,e){let r=e.fs.lstatSync(t);if(!r.isSymbolicLink()||!e.followSymbolicLink)return r;try{let s=e.fs.statSync(t);return e.markSymbolicLink&&(s.isSymbolicLink=()=>!0),s}catch(s){if(!e.throwErrorOnBrokenSymbolicLink)return r;throw s}}ar.read=Ad});var oc=g(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.createFileSystemAdapter=Re.FILE_SYSTEM_ADAPTER=void 0;var cr=E("fs");Re.FILE_SYSTEM_ADAPTER={lstat:cr.lstat,stat:cr.stat,lstatSync:cr.lstatSync,statSync:cr.statSync};function Cd(t){return t===void 0?Re.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Re.FILE_SYSTEM_ADAPTER),t)}Re.createFileSystemAdapter=Cd});var ac=g(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});var Rd=oc(),sn=class{constructor(e={}){this._options=e,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=Rd.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(e,r){return e??r}};nn.default=sn});var Me=g(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.statSync=Pe.stat=Pe.Settings=void 0;var cc=nc(),Pd=ic(),on=ac();Pe.Settings=on.default;function Td(t,e,r){if(typeof e=="function"){cc.read(t,an(),e);return}cc.read(t,an(e),r)}Pe.stat=Td;function kd(t,e){let r=an(e);return Pd.read(t,r)}Pe.statSync=kd;function an(t={}){return t instanceof on.default?t:new on.default(t)}});var fc=g((Ub,lc)=>{var uc;lc.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global):t=>(uc||(uc=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0))});var hc=g((Kb,pc)=>{pc.exports=Id;var Od=fc();function Id(t,e){let r,s,n,i=!0;Array.isArray(t)?(r=[],s=t.length):(n=Object.keys(t),r={},s=n.length);function o(c){function u(){e&&e(c,r),e=null}i?Od(u):u()}function a(c,u,l){r[c]=l,(--s===0||u)&&o(u)}s?n?n.forEach(function(c){t[c](function(u,l){a(c,u,l)})}):t.forEach(function(c,u){c(function(l,p){a(u,l,p)})}):o(null),i=!1}});var cn=g(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});lr.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var ur=process.versions.node.split(".");if(ur[0]===void 0||ur[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var dc=Number.parseInt(ur[0],10),$d=Number.parseInt(ur[1],10),mc=10,Ld=10,Nd=dc>mc,qd=dc===mc&&$d>=Ld;lr.IS_SUPPORT_READDIR_WITH_FILE_TYPES=Nd||qd});var gc=g(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});fr.createDirentFromStats=void 0;var un=class{constructor(e,r){this.name=e,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function Dd(t,e){return new un(t,e)}fr.createDirentFromStats=Dd});var ln=g(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});pr.fs=void 0;var Md=gc();pr.fs=Md});var fn=g(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});hr.joinPathSegments=void 0;function Hd(t,e,r){return t.endsWith(r)?t+e:t+r+e}hr.joinPathSegments=Hd});var vc=g(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.readdir=Te.readdirWithFileTypes=Te.read=void 0;var Fd=Me(),yc=hc(),jd=cn(),_c=ln(),bc=fn();function Bd(t,e,r){if(!e.stats&&jd.IS_SUPPORT_READDIR_WITH_FILE_TYPES){Sc(t,e,r);return}Ec(t,e,r)}Te.read=Bd;function Sc(t,e,r){e.fs.readdir(t,{withFileTypes:!0},(s,n)=>{if(s!==null){dr(r,s);return}let i=n.map(a=>({dirent:a,name:a.name,path:bc.joinPathSegments(t,a.name,e.pathSegmentSeparator)}));if(!e.followSymbolicLinks){pn(r,i);return}let o=i.map(a=>Gd(a,e));yc(o,(a,c)=>{if(a!==null){dr(r,a);return}pn(r,c)})})}Te.readdirWithFileTypes=Sc;function Gd(t,e){return r=>{if(!t.dirent.isSymbolicLink()){r(null,t);return}e.fs.stat(t.path,(s,n)=>{if(s!==null){if(e.throwErrorOnBrokenSymbolicLink){r(s);return}r(null,t);return}t.dirent=_c.fs.createDirentFromStats(t.name,n),r(null,t)})}}function Ec(t,e,r){e.fs.readdir(t,(s,n)=>{if(s!==null){dr(r,s);return}let i=n.map(o=>{let a=bc.joinPathSegments(t,o,e.pathSegmentSeparator);return c=>{Fd.stat(a,e.fsStatSettings,(u,l)=>{if(u!==null){c(u);return}let p={name:o,path:a,dirent:_c.fs.createDirentFromStats(o,l)};e.stats&&(p.stats=l),c(null,p)})}});yc(i,(o,a)=>{if(o!==null){dr(r,o);return}pn(r,a)})})}Te.readdir=Ec;function dr(t,e){t(e)}function pn(t,e){t(null,e)}});var Rc=g(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.readdir=ke.readdirWithFileTypes=ke.read=void 0;var Wd=Me(),Ud=cn(),wc=ln(),xc=fn();function Kd(t,e){return!e.stats&&Ud.IS_SUPPORT_READDIR_WITH_FILE_TYPES?Ac(t,e):Cc(t,e)}ke.read=Kd;function Ac(t,e){return e.fs.readdirSync(t,{withFileTypes:!0}).map(s=>{let n={dirent:s,name:s.name,path:xc.joinPathSegments(t,s.name,e.pathSegmentSeparator)};if(n.dirent.isSymbolicLink()&&e.followSymbolicLinks)try{let i=e.fs.statSync(n.path);n.dirent=wc.fs.createDirentFromStats(n.name,i)}catch(i){if(e.throwErrorOnBrokenSymbolicLink)throw i}return n})}ke.readdirWithFileTypes=Ac;function Cc(t,e){return e.fs.readdirSync(t).map(s=>{let n=xc.joinPathSegments(t,s,e.pathSegmentSeparator),i=Wd.statSync(n,e.fsStatSettings),o={name:s,path:n,dirent:wc.fs.createDirentFromStats(s,i)};return e.stats&&(o.stats=i),o})}ke.readdir=Cc});var Pc=g(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.createFileSystemAdapter=Oe.FILE_SYSTEM_ADAPTER=void 0;var Ye=E("fs");Oe.FILE_SYSTEM_ADAPTER={lstat:Ye.lstat,stat:Ye.stat,lstatSync:Ye.lstatSync,statSync:Ye.statSync,readdir:Ye.readdir,readdirSync:Ye.readdirSync};function Xd(t){return t===void 0?Oe.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Oe.FILE_SYSTEM_ADAPTER),t)}Oe.createFileSystemAdapter=Xd});var Tc=g(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});var Vd=E("path"),zd=Me(),Qd=Pc(),hn=class{constructor(e={}){this._options=e,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=Qd.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,Vd.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new zd.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(e,r){return e??r}};dn.default=hn});var mr=g(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.Settings=Ie.scandirSync=Ie.scandir=void 0;var kc=vc(),Yd=Rc(),mn=Tc();Ie.Settings=mn.default;function Zd(t,e,r){if(typeof e=="function"){kc.read(t,gn(),e);return}kc.read(t,gn(e),r)}Ie.scandir=Zd;function Jd(t,e){let r=gn(e);return Yd.read(t,r)}Ie.scandirSync=Jd;function gn(t={}){return t instanceof mn.default?t:new mn.default(t)}});var Ic=g((rS,Oc)=>{"use strict";function em(t){var e=new t,r=e;function s(){var i=e;return i.next?e=i.next:(e=new t,r=e),i.next=null,i}function n(i){r.next=i,r=i}return{get:s,release:n}}Oc.exports=em});var Lc=g((sS,yn)=>{"use strict";var tm=Ic();function $c(t,e,r){if(typeof t=="function"&&(r=e,e=t,t=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var s=tm(rm),n=null,i=null,o=0,a=null,c={push:_,drain:ce,saturated:ce,pause:l,paused:!1,concurrency:r,running:u,resume:w,idle:y,length:p,getQueue:f,unshift:C,empty:ce,kill:$,killAndDrain:L,error:O};return c;function u(){return o}function l(){c.paused=!0}function p(){for(var S=n,I=0;S;)S=S.next,I++;return I}function f(){for(var S=n,I=[];S;)I.push(S.value),S=S.next;return I}function w(){if(!!c.paused){c.paused=!1;for(var S=0;S<c.concurrency;S++)o++,A()}}function y(){return o===0&&c.length()===0}function _(S,I){var T=s.get();T.context=t,T.release=A,T.value=S,T.callback=I||ce,T.errorHandler=a,o===c.concurrency||c.paused?i?(i.next=T,i=T):(n=T,i=T,c.saturated()):(o++,e.call(t,T.value,T.worked))}function C(S,I){var T=s.get();T.context=t,T.release=A,T.value=S,T.callback=I||ce,o===c.concurrency||c.paused?n?(T.next=n,n=T):(n=T,i=T,c.saturated()):(o++,e.call(t,T.value,T.worked))}function A(S){S&&s.release(S);var I=n;I?c.paused?o--:(i===n&&(i=null),n=I.next,I.next=null,e.call(t,I.value,I.worked),i===null&&c.empty()):--o===0&&c.drain()}function $(){n=null,i=null,c.drain=ce}function L(){n=null,i=null,c.drain(),c.drain=ce}function O(S){a=S}}function ce(){}function rm(){this.value=null,this.callback=ce,this.next=null,this.release=ce,this.context=null,this.errorHandler=null;var t=this;this.worked=function(r,s){var n=t.callback,i=t.errorHandler,o=t.value;t.value=null,t.callback=ce,t.errorHandler&&i(r,o),n.call(t.context,r,s),t.release(t)}}function sm(t,e,r){typeof t=="function"&&(r=e,e=t,t=null);function s(l,p){e.call(this,l).then(function(f){p(null,f)},p)}var n=$c(t,s,r),i=n.push,o=n.unshift;return n.push=a,n.unshift=c,n.drained=u,n;function a(l){var p=new Promise(function(f,w){i(l,function(y,_){if(y){w(y);return}f(_)})});return p.catch(ce),p}function c(l){var p=new Promise(function(f,w){o(l,function(y,_){if(y){w(y);return}f(_)})});return p.catch(ce),p}function u(){if(n.idle())return new Promise(function(f){f()});var l=n.drain,p=new Promise(function(f){n.drain=function(){l(),f()}});return p}}yn.exports=$c;yn.exports.promise=sm});var gr=g(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.joinPathSegments=_e.replacePathSegmentSeparator=_e.isAppliedFilter=_e.isFatalError=void 0;function nm(t,e){return t.errorFilter===null?!0:!t.errorFilter(e)}_e.isFatalError=nm;function im(t,e){return t===null||t(e)}_e.isAppliedFilter=im;function om(t,e){return t.split(/[/\\]/).join(e)}_e.replacePathSegmentSeparator=om;function am(t,e,r){return t===""?e:t.endsWith(r)?t+e:t+r+e}_e.joinPathSegments=am});var Sn=g(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});var cm=gr(),_n=class{constructor(e,r){this._root=e,this._settings=r,this._root=cm.replacePathSegmentSeparator(e,r.pathSegmentSeparator)}};bn.default=_n});var wn=g(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});var um=E("events"),lm=mr(),fm=Lc(),yr=gr(),pm=Sn(),En=class extends pm.default{constructor(e,r){super(e,r),this._settings=r,this._scandir=lm.scandir,this._emitter=new um.EventEmitter,this._queue=fm(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(e){this._emitter.on("entry",e)}onError(e){this._emitter.once("error",e)}onEnd(e){this._emitter.once("end",e)}_pushToQueue(e,r){let s={directory:e,base:r};this._queue.push(s,n=>{n!==null&&this._handleError(n)})}_worker(e,r){this._scandir(e.directory,this._settings.fsScandirSettings,(s,n)=>{if(s!==null){r(s,void 0);return}for(let i of n)this._handleEntry(i,e.base);r(null,void 0)})}_handleError(e){this._isDestroyed||!yr.isFatalError(this._settings,e)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",e))}_handleEntry(e,r){if(this._isDestroyed||this._isFatalError)return;let s=e.path;r!==void 0&&(e.path=yr.joinPathSegments(r,e.name,this._settings.pathSegmentSeparator)),yr.isAppliedFilter(this._settings.entryFilter,e)&&this._emitEntry(e),e.dirent.isDirectory()&&yr.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(s,r===void 0?void 0:e.path)}_emitEntry(e){this._emitter.emit("entry",e)}};vn.default=En});var Nc=g(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});var hm=wn(),xn=class{constructor(e,r){this._root=e,this._settings=r,this._reader=new hm.default(this._root,this._settings),this._storage=[]}read(e){this._reader.onError(r=>{dm(e,r)}),this._reader.onEntry(r=>{this._storage.push(r)}),this._reader.onEnd(()=>{mm(e,this._storage)}),this._reader.read()}};An.default=xn;function dm(t,e){t(e)}function mm(t,e){t(null,e)}});var qc=g(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});var gm=E("stream"),ym=wn(),Cn=class{constructor(e,r){this._root=e,this._settings=r,this._reader=new ym.default(this._root,this._settings),this._stream=new gm.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(e=>{this._stream.emit("error",e)}),this._reader.onEntry(e=>{this._stream.push(e)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};Rn.default=Cn});var Dc=g(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});var _m=mr(),_r=gr(),bm=Sn(),Pn=class extends bm.default{constructor(){super(...arguments),this._scandir=_m.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(e,r){this._queue.add({directory:e,base:r})}_handleQueue(){for(let e of this._queue.values())this._handleDirectory(e.directory,e.base)}_handleDirectory(e,r){try{let s=this._scandir(e,this._settings.fsScandirSettings);for(let n of s)this._handleEntry(n,r)}catch(s){this._handleError(s)}}_handleError(e){if(!!_r.isFatalError(this._settings,e))throw e}_handleEntry(e,r){let s=e.path;r!==void 0&&(e.path=_r.joinPathSegments(r,e.name,this._settings.pathSegmentSeparator)),_r.isAppliedFilter(this._settings.entryFilter,e)&&this._pushToStorage(e),e.dirent.isDirectory()&&_r.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(s,r===void 0?void 0:e.path)}_pushToStorage(e){this._storage.push(e)}};Tn.default=Pn});var Mc=g(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});var Sm=Dc(),kn=class{constructor(e,r){this._root=e,this._settings=r,this._reader=new Sm.default(this._root,this._settings)}read(){return this._reader.read()}};On.default=kn});var Hc=g($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});var Em=E("path"),vm=mr(),In=class{constructor(e={}){this._options=e,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,Em.sep),this.fsScandirSettings=new vm.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(e,r){return e??r}};$n.default=In});var Sr=g(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.Settings=be.walkStream=be.walkSync=be.walk=void 0;var Fc=Nc(),wm=qc(),xm=Mc(),Ln=Hc();be.Settings=Ln.default;function Am(t,e,r){if(typeof e=="function"){new Fc.default(t,br()).read(e);return}new Fc.default(t,br(e)).read(r)}be.walk=Am;function Cm(t,e){let r=br(e);return new xm.default(t,r).read()}be.walkSync=Cm;function Rm(t,e){let r=br(e);return new wm.default(t,r).read()}be.walkStream=Rm;function br(t={}){return t instanceof Ln.default?t:new Ln.default(t)}});var Er=g(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});var Pm=E("path"),Tm=Me(),jc=we(),Nn=class{constructor(e){this._settings=e,this._fsStatSettings=new Tm.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(e){return Pm.resolve(this._settings.cwd,e)}_makeEntry(e,r){let s={name:r,path:r,dirent:jc.fs.createDirentFromStats(r,e)};return this._settings.stats&&(s.stats=e),s}_isFatalError(e){return!jc.errno.isEnoentCodeError(e)&&!this._settings.suppressErrors}};qn.default=Nn});var Hn=g(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});var km=E("stream"),Om=Me(),Im=Sr(),$m=Er(),Dn=class extends $m.default{constructor(){super(...arguments),this._walkStream=Im.walkStream,this._stat=Om.stat}dynamic(e,r){return this._walkStream(e,r)}static(e,r){let s=e.map(this._getFullEntryPath,this),n=new km.PassThrough({objectMode:!0});n._write=(i,o,a)=>this._getEntry(s[i],e[i],r).then(c=>{c!==null&&r.entryFilter(c)&&n.push(c),i===s.length-1&&n.end(),a()}).catch(a);for(let i=0;i<s.length;i++)n.write(i);return n}_getEntry(e,r,s){return this._getStat(e).then(n=>this._makeEntry(n,r)).catch(n=>{if(s.errorFilter(n))return null;throw n})}_getStat(e){return new Promise((r,s)=>{this._stat(e,this._fsStatSettings,(n,i)=>n===null?r(i):s(n))})}};Mn.default=Dn});var Bc=g(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});var Lm=Sr(),Nm=Er(),qm=Hn(),Fn=class extends Nm.default{constructor(){super(...arguments),this._walkAsync=Lm.walk,this._readerStream=new qm.default(this._settings)}dynamic(e,r){return new Promise((s,n)=>{this._walkAsync(e,r,(i,o)=>{i===null?s(o):n(i)})})}async static(e,r){let s=[],n=this._readerStream.static(e,r);return new Promise((i,o)=>{n.once("error",o),n.on("data",a=>s.push(a)),n.once("end",()=>i(s))})}};jn.default=Fn});var Gc=g(Gn=>{"use strict";Object.defineProperty(Gn,"__esModule",{value:!0});var Ot=we(),Bn=class{constructor(e,r,s){this._patterns=e,this._settings=r,this._micromatchOptions=s,this._storage=[],this._fillStorage()}_fillStorage(){for(let e of this._patterns){let r=this._getPatternSegments(e),s=this._splitSegmentsIntoSections(r);this._storage.push({complete:s.length<=1,pattern:e,segments:r,sections:s})}}_getPatternSegments(e){return Ot.pattern.getPatternParts(e,this._micromatchOptions).map(s=>Ot.pattern.isDynamicPattern(s,this._settings)?{dynamic:!0,pattern:s,patternRe:Ot.pattern.makeRe(s,this._micromatchOptions)}:{dynamic:!1,pattern:s})}_splitSegmentsIntoSections(e){return Ot.array.splitWhen(e,r=>r.dynamic&&Ot.pattern.hasGlobStar(r.pattern))}};Gn.default=Bn});var Wc=g(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});var Dm=Gc(),Wn=class extends Dm.default{match(e){let r=e.split("/"),s=r.length,n=this._storage.filter(i=>!i.complete||i.segments.length>s);for(let i of n){let o=i.sections[0];if(!i.complete&&s>o.length||r.every((c,u)=>{let l=i.segments[u];return!!(l.dynamic&&l.patternRe.test(c)||!l.dynamic&&l.pattern===c)}))return!0}return!1}};Un.default=Wn});var Uc=g(Xn=>{"use strict";Object.defineProperty(Xn,"__esModule",{value:!0});var vr=we(),Mm=Wc(),Kn=class{constructor(e,r){this._settings=e,this._micromatchOptions=r}getFilter(e,r,s){let n=this._getMatcher(r),i=this._getNegativePatternsRe(s);return o=>this._filter(e,o,n,i)}_getMatcher(e){return new Mm.default(e,this._settings,this._micromatchOptions)}_getNegativePatternsRe(e){let r=e.filter(vr.pattern.isAffectDepthOfReadingPattern);return vr.pattern.convertPatternsToRe(r,this._micromatchOptions)}_filter(e,r,s,n){if(this._isSkippedByDeep(e,r.path)||this._isSkippedSymbolicLink(r))return!1;let i=vr.path.removeLeadingDotSegment(r.path);return this._isSkippedByPositivePatterns(i,s)?!1:this._isSkippedByNegativePatterns(i,n)}_isSkippedByDeep(e,r){return this._settings.deep===1/0?!1:this._getEntryLevel(e,r)>=this._settings.deep}_getEntryLevel(e,r){let s=r.split("/").length;if(e==="")return s;let n=e.split("/").length;return s-n}_isSkippedSymbolicLink(e){return!this._settings.followSymbolicLinks&&e.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(e,r){return!this._settings.baseNameMatch&&!r.match(e)}_isSkippedByNegativePatterns(e,r){return!vr.pattern.matchAny(e,r)}};Xn.default=Kn});var Kc=g(zn=>{"use strict";Object.defineProperty(zn,"__esModule",{value:!0});var He=we(),Vn=class{constructor(e,r){this._settings=e,this._micromatchOptions=r,this.index=new Map}getFilter(e,r){let s=He.pattern.convertPatternsToRe(e,this._micromatchOptions),n=He.pattern.convertPatternsToRe(r,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0}));return i=>this._filter(i,s,n)}_filter(e,r,s){let n=He.path.removeLeadingDotSegment(e.path);if(this._settings.unique&&this._isDuplicateEntry(n)||this._onlyFileFilter(e)||this._onlyDirectoryFilter(e)||this._isSkippedByAbsoluteNegativePatterns(n,s))return!1;let i=e.dirent.isDirectory(),o=this._isMatchToPatterns(n,r,i)&&!this._isMatchToPatterns(n,s,i);return this._settings.unique&&o&&this._createIndexRecord(n),o}_isDuplicateEntry(e){return this.index.has(e)}_createIndexRecord(e){this.index.set(e,void 0)}_onlyFileFilter(e){return this._settings.onlyFiles&&!e.dirent.isFile()}_onlyDirectoryFilter(e){return this._settings.onlyDirectories&&!e.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(e,r){if(!this._settings.absolute)return!1;let s=He.path.makeAbsolute(this._settings.cwd,e);return He.pattern.matchAny(s,r)}_isMatchToPatterns(e,r,s){let n=He.pattern.matchAny(e,r);return!n&&s?He.pattern.matchAny(e+"/",r):n}};zn.default=Vn});var Xc=g(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});var Hm=we(),Qn=class{constructor(e){this._settings=e}getFilter(){return e=>this._isNonFatalError(e)}_isNonFatalError(e){return Hm.errno.isEnoentCodeError(e)||this._settings.suppressErrors}};Yn.default=Qn});var zc=g(Jn=>{"use strict";Object.defineProperty(Jn,"__esModule",{value:!0});var Vc=we(),Zn=class{constructor(e){this._settings=e}getTransformer(){return e=>this._transform(e)}_transform(e){let r=e.path;return this._settings.absolute&&(r=Vc.path.makeAbsolute(this._settings.cwd,r),r=Vc.path.unixify(r)),this._settings.markDirectories&&e.dirent.isDirectory()&&(r+="/"),this._settings.objectMode?Object.assign(Object.assign({},e),{path:r}):r}};Jn.default=Zn});var wr=g(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});var Fm=E("path"),jm=Uc(),Bm=Kc(),Gm=Xc(),Wm=zc(),ei=class{constructor(e){this._settings=e,this.errorFilter=new Gm.default(this._settings),this.entryFilter=new Bm.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new jm.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new Wm.default(this._settings)}_getRootDirectory(e){return Fm.resolve(this._settings.cwd,e.base)}_getReaderOptions(e){let r=e.base==="."?"":e.base;return{basePath:r,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(r,e.positive,e.negative),entryFilter:this.entryFilter.getFilter(e.positive,e.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};ti.default=ei});var Qc=g(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});var Um=Bc(),Km=wr(),ri=class extends Km.default{constructor(){super(...arguments),this._reader=new Um.default(this._settings)}async read(e){let r=this._getRootDirectory(e),s=this._getReaderOptions(e);return(await this.api(r,e,s)).map(i=>s.transform(i))}api(e,r,s){return r.dynamic?this._reader.dynamic(e,s):this._reader.static(r.patterns,s)}};si.default=ri});var Yc=g(ii=>{"use strict";Object.defineProperty(ii,"__esModule",{value:!0});var Xm=E("stream"),Vm=Hn(),zm=wr(),ni=class extends zm.default{constructor(){super(...arguments),this._reader=new Vm.default(this._settings)}read(e){let r=this._getRootDirectory(e),s=this._getReaderOptions(e),n=this.api(r,e,s),i=new Xm.Readable({objectMode:!0,read:()=>{}});return n.once("error",o=>i.emit("error",o)).on("data",o=>i.emit("data",s.transform(o))).once("end",()=>i.emit("end")),i.once("close",()=>n.destroy()),i}api(e,r,s){return r.dynamic?this._reader.dynamic(e,s):this._reader.static(r.patterns,s)}};ii.default=ni});var Zc=g(ai=>{"use strict";Object.defineProperty(ai,"__esModule",{value:!0});var Qm=Me(),Ym=Sr(),Zm=Er(),oi=class extends Zm.default{constructor(){super(...arguments),this._walkSync=Ym.walkSync,this._statSync=Qm.statSync}dynamic(e,r){return this._walkSync(e,r)}static(e,r){let s=[];for(let n of e){let i=this._getFullEntryPath(n),o=this._getEntry(i,n,r);o===null||!r.entryFilter(o)||s.push(o)}return s}_getEntry(e,r,s){try{let n=this._getStat(e);return this._makeEntry(n,r)}catch(n){if(s.errorFilter(n))return null;throw n}}_getStat(e){return this._statSync(e,this._fsStatSettings)}};ai.default=oi});var Jc=g(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});var Jm=Zc(),eg=wr(),ci=class extends eg.default{constructor(){super(...arguments),this._reader=new Jm.default(this._settings)}read(e){let r=this._getRootDirectory(e),s=this._getReaderOptions(e);return this.api(r,e,s).map(s.transform)}api(e,r,s){return r.dynamic?this._reader.dynamic(e,s):this._reader.static(r.patterns,s)}};ui.default=ci});var eu=g(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var Ze=E("fs"),tg=E("os"),rg=Math.max(tg.cpus().length,1);Je.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:Ze.lstat,lstatSync:Ze.lstatSync,stat:Ze.stat,statSync:Ze.statSync,readdir:Ze.readdir,readdirSync:Ze.readdirSync};var li=class{constructor(e={}){this._options=e,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,rg),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(e,r){return e===void 0?r:e}_getFileSystemMethods(e={}){return Object.assign(Object.assign({},Je.DEFAULT_FILE_SYSTEM_ADAPTER),e)}};Je.default=li});var di=g((PS,ru)=>{"use strict";var tu=rc(),sg=Qc(),ng=Yc(),ig=Jc(),fi=eu(),ue=we();async function pi(t,e){fe(t);let r=hi(t,sg.default,e),s=await Promise.all(r);return ue.array.flatten(s)}(function(t){t.glob=t,t.globSync=e,t.globStream=r,t.async=t;function e(u,l){fe(u);let p=hi(u,ig.default,l);return ue.array.flatten(p)}t.sync=e;function r(u,l){fe(u);let p=hi(u,ng.default,l);return ue.stream.merge(p)}t.stream=r;function s(u,l){fe(u);let p=[].concat(u),f=new fi.default(l);return tu.generate(p,f)}t.generateTasks=s;function n(u,l){fe(u);let p=new fi.default(l);return ue.pattern.isDynamicPattern(u,p)}t.isDynamicPattern=n;function i(u){return fe(u),ue.path.escape(u)}t.escapePath=i;function o(u){return fe(u),ue.path.convertPathToPattern(u)}t.convertPathToPattern=o;let a;(function(u){function l(f){return fe(f),ue.path.escapePosixPath(f)}u.escapePath=l;function p(f){return fe(f),ue.path.convertPosixPathToPattern(f)}u.convertPathToPattern=p})(a=t.posix||(t.posix={}));let c;(function(u){function l(f){return fe(f),ue.path.escapeWindowsPath(f)}u.escapePath=l;function p(f){return fe(f),ue.path.convertWindowsPathToPattern(f)}u.convertPathToPattern=p})(c=t.win32||(t.win32={}))})(pi||(pi={}));function hi(t,e,r){let s=[].concat(t),n=new fi.default(r),i=tu.generate(s,n),o=new e(n);return i.map(o.read,o)}function fe(t){if(![].concat(t).every(s=>ue.string.isString(s)&&!ue.string.isEmpty(s)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}ru.exports=pi});var nu=g(Fe=>{"use strict";var{promisify:og}=E("util"),su=E("fs");async function mi(t,e,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return(await og(su[t])(r))[e]()}catch(s){if(s.code==="ENOENT")return!1;throw s}}function gi(t,e,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return su[t](r)[e]()}catch(s){if(s.code==="ENOENT")return!1;throw s}}Fe.isFile=mi.bind(null,"stat","isFile");Fe.isDirectory=mi.bind(null,"stat","isDirectory");Fe.isSymlink=mi.bind(null,"lstat","isSymbolicLink");Fe.isFileSync=gi.bind(null,"statSync","isFile");Fe.isDirectorySync=gi.bind(null,"statSync","isDirectory");Fe.isSymlinkSync=gi.bind(null,"lstatSync","isSymbolicLink")});var uu=g((kS,yi)=>{"use strict";var je=E("path"),iu=nu(),ou=t=>t.length>1?`{${t.join(",")}}`:t[0],au=(t,e)=>{let r=t[0]==="!"?t.slice(1):t;return je.isAbsolute(r)?r:je.join(e,r)},ag=(t,e)=>je.extname(t)?`**/${t}`:`**/${t}.${ou(e)}`,cu=(t,e)=>{if(e.files&&!Array.isArray(e.files))throw new TypeError(`Expected \`files\` to be of type \`Array\` but received type \`${typeof e.files}\``);if(e.extensions&&!Array.isArray(e.extensions))throw new TypeError(`Expected \`extensions\` to be of type \`Array\` but received type \`${typeof e.extensions}\``);return e.files&&e.extensions?e.files.map(r=>je.posix.join(t,ag(r,e.extensions))):e.files?e.files.map(r=>je.posix.join(t,`**/${r}`)):e.extensions?[je.posix.join(t,`**/*.${ou(e.extensions)}`)]:[je.posix.join(t,"**")]};yi.exports=async(t,e)=>{if(e={cwd:process.cwd(),...e},typeof e.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof e.cwd}\``);let r=await Promise.all([].concat(t).map(async s=>await iu.isDirectory(au(s,e.cwd))?cu(s,e):s));return[].concat.apply([],r)};yi.exports.sync=(t,e)=>{if(e={cwd:process.cwd(),...e},typeof e.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof e.cwd}\``);let r=[].concat(t).map(s=>iu.isDirectorySync(au(s,e.cwd))?cu(s,e):s);return[].concat.apply([],r)}});var bu=g((OS,_u)=>{function lu(t){return Array.isArray(t)?t:[t]}var du="",fu=" ",_i="\\",cg=/^\s+$/,ug=/(?:[^\\]|^)\\$/,lg=/^\\!/,fg=/^\\#/,pg=/\r?\n/g,hg=/^\.*\/|^\.+$/,bi="/",mu="node-ignore";typeof Symbol<"u"&&(mu=Symbol.for("node-ignore"));var pu=mu,dg=(t,e,r)=>Object.defineProperty(t,e,{value:r}),mg=/([0-z])-([0-z])/g,gu=()=>!1,gg=t=>t.replace(mg,(e,r,s)=>r.charCodeAt(0)<=s.charCodeAt(0)?e:du),yg=t=>{let{length:e}=t;return t.slice(0,e-e%2)},_g=[[/\\?\s+$/,t=>t.indexOf("\\")===0?fu:du],[/\\\s/g,()=>fu],[/[\\$.|*+(){^]/g,t=>`\\${t}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(t,e,r)=>e+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)(\\\*)+(?=.+)/g,(t,e,r)=>{let s=r.replace(/\\\*/g,"[^\\/]*");return e+s}],[/\\\\\\(?=[$.|*+(){^])/g,()=>_i],[/\\\\/g,()=>_i],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(t,e,r,s,n)=>e===_i?`\\[${r}${yg(s)}${n}`:n==="]"&&s.length%2===0?`[${gg(r)}${s}]`:"[]"],[/(?:[^*])$/,t=>/\/$/.test(t)?`${t}$`:`${t}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(t,e)=>`${e?`${e}[^/]+`:"[^/]*"}(?=$|\\/$)`]],hu=Object.create(null),bg=(t,e)=>{let r=hu[t];return r||(r=_g.reduce((s,n)=>s.replace(n[0],n[1].bind(t)),t),hu[t]=r),e?new RegExp(r,"i"):new RegExp(r)},vi=t=>typeof t=="string",Sg=t=>t&&vi(t)&&!cg.test(t)&&!ug.test(t)&&t.indexOf("#")!==0,Eg=t=>t.split(pg),Si=class{constructor(e,r,s,n){this.origin=e,this.pattern=r,this.negative=s,this.regex=n}},vg=(t,e)=>{let r=t,s=!1;t.indexOf("!")===0&&(s=!0,t=t.substr(1)),t=t.replace(lg,"!").replace(fg,"#");let n=bg(t,e);return new Si(r,t,s,n)},wg=(t,e)=>{throw new e(t)},xe=(t,e,r)=>vi(t)?t?xe.isNotRelative(t)?r(`path should be a \`path.relative()\`d string, but got "${e}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${e}\``,TypeError),yu=t=>hg.test(t);xe.isNotRelative=yu;xe.convert=t=>t;var Ei=class{constructor({ignorecase:e=!0,ignoreCase:r=e,allowRelativePaths:s=!1}={}){dg(this,pu,!0),this._rules=[],this._ignoreCase=r,this._allowRelativePaths=s,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(e){if(e&&e[pu]){this._rules=this._rules.concat(e._rules),this._added=!0;return}if(Sg(e)){let r=vg(e,this._ignoreCase);this._added=!0,this._rules.push(r)}}add(e){return this._added=!1,lu(vi(e)?Eg(e):e).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(e){return this.add(e)}_testOne(e,r){let s=!1,n=!1;return this._rules.forEach(i=>{let{negative:o}=i;if(n===o&&s!==n||o&&!s&&!n&&!r)return;i.regex.test(e)&&(s=!o,n=o)}),{ignored:s,unignored:n}}_test(e,r,s,n){let i=e&&xe.convert(e);return xe(i,e,this._allowRelativePaths?gu:wg),this._t(i,r,s,n)}_t(e,r,s,n){if(e in r)return r[e];if(n||(n=e.split(bi)),n.pop(),!n.length)return r[e]=this._testOne(e,s);let i=this._t(n.join(bi)+bi,r,s,n);return r[e]=i.ignored?i:this._testOne(e,s)}ignores(e){return this._test(e,this._ignoreCache,!1).ignored}createFilter(){return e=>!this.ignores(e)}filter(e){return lu(e).filter(this.createFilter())}test(e){return this._test(e,this._testCache,!0)}},xr=t=>new Ei(t),xg=t=>xe(t&&xe.convert(t),t,gu);xr.isPathValid=xg;xr.default=xr;_u.exports=xr;if(typeof process<"u"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let t=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");xe.convert=t;let e=/^[a-z]:\//i;xe.isNotRelative=r=>e.test(r)||yu(r)}});var Qu=g((SE,zu)=>{"use strict";zu.exports=t=>function(){let e=arguments.length,r=new Array(e);for(let s=0;s<e;s+=1)r[s]=arguments[s];return new Promise((s,n)=>{r.push((i,o)=>{i?n(i):s(o)}),t.apply(null,r)})}});var ee=g((EE,Yu)=>{"use strict";var Pr=E("fs"),Ig=Qu(),$g=t=>[typeof Pr[t]=="function",!t.match(/Sync$/),!t.match(/^[A-Z]/),!t.match(/^create/),!t.match(/^(un)?watch/)].every(Boolean),Lg=t=>{let e=Pr[t];return Ig(e)},Ng=()=>{let t={};return Object.keys(Pr).forEach(e=>{$g(e)?e==="exists"?t.exists=()=>{throw new Error("fs.exists() is deprecated")}:t[e]=Lg(e):t[e]=Pr[e]}),t};Yu.exports=Ng()});var V=g((vE,tl)=>{"use strict";var qg=t=>{let e=r=>["a","e","i","o","u"].indexOf(r[0])!==-1?`an ${r}`:`a ${r}`;return t.map(e).join(" or ")},Zu=t=>/array of /.test(t),Ju=t=>t.split(" of ")[1],el=t=>Zu(t)?el(Ju(t)):["string","number","boolean","array","object","buffer","null","undefined","function"].some(e=>e===t),Dt=t=>t===null?"null":Array.isArray(t)?"array":Buffer.isBuffer(t)?"buffer":typeof t,Dg=(t,e,r)=>r.indexOf(t)===e,Mg=t=>{let e=Dt(t),r;return e==="array"&&(r=t.map(s=>Dt(s)).filter(Dg),e+=` of ${r.join(", ")}`),e},Hg=(t,e)=>{let r=Ju(e);return Dt(t)!=="array"?!1:t.every(s=>Dt(s)===r)},Ri=(t,e,r,s)=>{if(!s.some(i=>{if(!el(i))throw new Error(`Unknown type "${i}"`);return Zu(i)?Hg(r,i):i===Dt(r)}))throw new Error(`Argument "${e}" passed to ${t} must be ${qg(s)}. Received ${Mg(r)}`)},Fg=(t,e,r,s)=>{r!==void 0&&(Ri(t,e,r,["object"]),Object.keys(r).forEach(n=>{let i=`${e}.${n}`;if(s[n]!==void 0)Ri(t,i,r[n],s[n]);else throw new Error(`Unknown argument "${i}" passed to ${t}`)}))};tl.exports={argument:Ri,options:Fg}});var Tr=g(rl=>{"use strict";rl.normalizeFileMode=t=>{let e;return typeof t=="number"?e=t.toString(8):e=t,e.substring(e.length-3)}});var Or=g(kr=>{"use strict";var sl=ee(),jg=V(),Bg=(t,e)=>{let r=`${t}([path])`;jg.argument(r,"path",e,["string","undefined"])},Gg=t=>{sl.rmSync(t,{recursive:!0,force:!0,maxRetries:3})},Wg=t=>sl.rm(t,{recursive:!0,force:!0,maxRetries:3});kr.validateInput=Bg;kr.sync=Gg;kr.async=Wg});var Ge=g(at=>{"use strict";var Ir=E("path"),Se=ee(),Pi=Tr(),nl=V(),il=Or(),Ug=(t,e,r)=>{let s=`${t}(path, [criteria])`;nl.argument(s,"path",e,["string"]),nl.options(s,"criteria",r,{empty:["boolean"],mode:["string","number"]})},ol=t=>{let e=t||{};return typeof e.empty!="boolean"&&(e.empty=!1),e.mode!==void 0&&(e.mode=Pi.normalizeFileMode(e.mode)),e},al=t=>new Error(`Path ${t} exists but is not a directory. Halting jetpack.dir() call for safety reasons.`),Kg=t=>{let e;try{e=Se.statSync(t)}catch(r){if(r.code!=="ENOENT")throw r}if(e&&!e.isDirectory())throw al(t);return e},Ti=(t,e)=>{let r=e||{};try{Se.mkdirSync(t,r.mode)}catch(s){if(s.code==="ENOENT")Ti(Ir.dirname(t),r),Se.mkdirSync(t,r.mode);else if(s.code!=="EEXIST")throw s}},Xg=(t,e,r)=>{let s=()=>{let i=Pi.normalizeFileMode(e.mode);r.mode!==void 0&&r.mode!==i&&Se.chmodSync(t,r.mode)},n=()=>{r.empty&&Se.readdirSync(t).forEach(o=>{il.sync(Ir.resolve(t,o))})};s(),n()},Vg=(t,e)=>{let r=ol(e),s=Kg(t);s?Xg(t,s,r):Ti(t,r)},zg=t=>new Promise((e,r)=>{Se.stat(t).then(s=>{s.isDirectory()?e(s):r(al(t))}).catch(s=>{s.code==="ENOENT"?e(void 0):r(s)})}),Qg=t=>new Promise((e,r)=>{Se.readdir(t).then(s=>{let n=i=>{if(i===s.length)e();else{let o=Ir.resolve(t,s[i]);il.async(o).then(()=>{n(i+1)})}};n(0)}).catch(r)}),Yg=(t,e,r)=>new Promise((s,n)=>{let i=()=>{let a=Pi.normalizeFileMode(e.mode);return r.mode!==void 0&&r.mode!==a?Se.chmod(t,r.mode):Promise.resolve()},o=()=>r.empty?Qg(t):Promise.resolve();i().then(o).then(s,n)}),ki=(t,e)=>{let r=e||{};return new Promise((s,n)=>{Se.mkdir(t,r.mode).then(s).catch(i=>{i.code==="ENOENT"?ki(Ir.dirname(t),r).then(()=>Se.mkdir(t,r.mode)).then(s).catch(o=>{o.code==="EEXIST"?s():n(o)}):i.code==="EEXIST"?s():n(i)})})},Zg=(t,e)=>new Promise((r,s)=>{let n=ol(e);zg(t).then(i=>i!==void 0?Yg(t,i,n):ki(t,n)).then(r,s)});at.validateInput=Ug;at.sync=Vg;at.createSync=Ti;at.async=Zg;at.createAsync=ki});var Mt=g(Lr=>{"use strict";var cl=E("path"),ct=ee(),Oi=V(),ul=Ge(),Jg=(t,e,r,s)=>{let n=`${t}(path, data, [options])`;Oi.argument(n,"path",e,["string"]),Oi.argument(n,"data",r,["string","buffer","object","array"]),Oi.options(n,"options",s,{mode:["string","number"],atomic:["boolean"],jsonIndent:["number"]})},$r=".__new__",ll=(t,e)=>{let r=e;return typeof r!="number"&&(r=2),typeof t=="object"&&!Buffer.isBuffer(t)&&t!==null?JSON.stringify(t,null,r):t},fl=(t,e,r)=>{try{ct.writeFileSync(t,e,r)}catch(s){if(s.code==="ENOENT")ul.createSync(cl.dirname(t)),ct.writeFileSync(t,e,r);else throw s}},ey=(t,e,r)=>{fl(t+$r,e,r),ct.renameSync(t+$r,t)},ty=(t,e,r)=>{let s=r||{},n=ll(e,s.jsonIndent),i=fl;s.atomic&&(i=ey),i(t,n,{mode:s.mode})},pl=(t,e,r)=>new Promise((s,n)=>{ct.writeFile(t,e,r).then(s).catch(i=>{i.code==="ENOENT"?ul.createAsync(cl.dirname(t)).then(()=>ct.writeFile(t,e,r)).then(s,n):n(i)})}),ry=(t,e,r)=>new Promise((s,n)=>{pl(t+$r,e,r).then(()=>ct.rename(t+$r,t)).then(s,n)}),sy=(t,e,r)=>{let s=r||{},n=ll(e,s.jsonIndent),i=pl;return s.atomic&&(i=ry),i(t,n,{mode:s.mode})};Lr.validateInput=Jg;Lr.sync=ty;Lr.async=sy});var ml=g(Nr=>{"use strict";var hl=ee(),dl=Mt(),Ii=V(),ny=(t,e,r,s)=>{let n=`${t}(path, data, [options])`;Ii.argument(n,"path",e,["string"]),Ii.argument(n,"data",r,["string","buffer"]),Ii.options(n,"options",s,{mode:["string","number"]})},iy=(t,e,r)=>{try{hl.appendFileSync(t,e,r)}catch(s){if(s.code==="ENOENT")dl.sync(t,e,r);else throw s}},oy=(t,e,r)=>new Promise((s,n)=>{hl.appendFile(t,e,r).then(s).catch(i=>{i.code==="ENOENT"?dl.async(t,e,r).then(s,n):n(i)})});Nr.validateInput=ny;Nr.sync=iy;Nr.async=oy});var bl=g(Mr=>{"use strict";var qr=ee(),$i=Tr(),gl=V(),Dr=Mt(),ay=(t,e,r)=>{let s=`${t}(path, [criteria])`;gl.argument(s,"path",e,["string"]),gl.options(s,"criteria",r,{content:["string","buffer","object","array"],jsonIndent:["number"],mode:["string","number"]})},yl=t=>{let e=t||{};return e.mode!==void 0&&(e.mode=$i.normalizeFileMode(e.mode)),e},_l=t=>new Error(`Path ${t} exists but is not a file. Halting jetpack.file() call for safety reasons.`),cy=t=>{let e;try{e=qr.statSync(t)}catch(r){if(r.code!=="ENOENT")throw r}if(e&&!e.isFile())throw _l(t);return e},uy=(t,e,r)=>{let s=$i.normalizeFileMode(e.mode),n=()=>r.content!==void 0?(Dr.sync(t,r.content,{mode:s,jsonIndent:r.jsonIndent}),!0):!1,i=()=>{r.mode!==void 0&&r.mode!==s&&qr.chmodSync(t,r.mode)};n()||i()},ly=(t,e)=>{let r="";e.content!==void 0&&(r=e.content),Dr.sync(t,r,{mode:e.mode,jsonIndent:e.jsonIndent})},fy=(t,e)=>{let r=yl(e),s=cy(t);s!==void 0?uy(t,s,r):ly(t,r)},py=t=>new Promise((e,r)=>{qr.stat(t).then(s=>{s.isFile()?e(s):r(_l(t))}).catch(s=>{s.code==="ENOENT"?e(void 0):r(s)})}),hy=(t,e,r)=>{let s=$i.normalizeFileMode(e.mode),n=()=>new Promise((o,a)=>{r.content!==void 0?Dr.async(t,r.content,{mode:s,jsonIndent:r.jsonIndent}).then(()=>{o(!0)}).catch(a):o(!1)}),i=()=>{if(r.mode!==void 0&&r.mode!==s)return qr.chmod(t,r.mode)};return n().then(o=>{if(!o)return i()})},dy=(t,e)=>{let r="";return e.content!==void 0&&(r=e.content),Dr.async(t,r,{mode:e.mode,jsonIndent:e.jsonIndent})},my=(t,e)=>new Promise((r,s)=>{let n=yl(e);py(t).then(i=>i!==void 0?hy(t,i,n):dy(t,n)).then(r,s)});Mr.validateInput=ay;Mr.sync=fy;Mr.async=my});var lt=g(ut=>{"use strict";var El=E("crypto"),gy=E("path"),$e=ee(),Sl=V(),Li=["md5","sha1","sha256","sha512"],Ni=["report","follow"],yy=(t,e,r)=>{let s=`${t}(path, [options])`;if(Sl.argument(s,"path",e,["string"]),Sl.options(s,"options",r,{checksum:["string"],mode:["boolean"],times:["boolean"],absolutePath:["boolean"],symlinks:["string"]}),r&&r.checksum!==void 0&&Li.indexOf(r.checksum)===-1)throw new Error(`Argument "options.checksum" passed to ${s} must have one of values: ${Li.join(", ")}`);if(r&&r.symlinks!==void 0&&Ni.indexOf(r.symlinks)===-1)throw new Error(`Argument "options.symlinks" passed to ${s} must have one of values: ${Ni.join(", ")}`)},vl=(t,e,r)=>{let s={};return s.name=gy.basename(t),r.isFile()?(s.type="file",s.size=r.size):r.isDirectory()?s.type="dir":r.isSymbolicLink()?s.type="symlink":s.type="other",e.mode&&(s.mode=r.mode),e.times&&(s.accessTime=r.atime,s.modifyTime=r.mtime,s.changeTime=r.ctime,s.birthTime=r.birthtime),e.absolutePath&&(s.absolutePath=t),s},_y=(t,e)=>{let r=El.createHash(e),s=$e.readFileSync(t);return r.update(s),r.digest("hex")},by=(t,e,r)=>{e.type==="file"&&r.checksum?e[r.checksum]=_y(t,r.checksum):e.type==="symlink"&&(e.pointsAt=$e.readlinkSync(t))},Sy=(t,e)=>{let r=$e.lstatSync,s,n=e||{};n.symlinks==="follow"&&(r=$e.statSync);try{s=r(t)}catch(o){if(o.code==="ENOENT")return;throw o}let i=vl(t,n,s);return by(t,i,n),i},Ey=(t,e)=>new Promise((r,s)=>{let n=El.createHash(e),i=$e.createReadStream(t);i.on("data",o=>{n.update(o)}),i.on("end",()=>{r(n.digest("hex"))}),i.on("error",s)}),vy=(t,e,r)=>e.type==="file"&&r.checksum?Ey(t,r.checksum).then(s=>(e[r.checksum]=s,e)):e.type==="symlink"?$e.readlink(t).then(s=>(e.pointsAt=s,e)):Promise.resolve(e),wy=(t,e)=>new Promise((r,s)=>{let n=$e.lstat,i=e||{};i.symlinks==="follow"&&(n=$e.stat),n(t).then(o=>{let a=vl(t,i,o);vy(t,a,i).then(r,s)}).catch(o=>{o.code==="ENOENT"?r(void 0):s(o)})});ut.supportedChecksumAlgorithms=Li;ut.symlinkOptions=Ni;ut.validateInput=yy;ut.sync=Sy;ut.async=wy});var Fr=g(Hr=>{"use strict";var wl=ee(),xy=V(),Ay=(t,e)=>{let r=`${t}(path)`;xy.argument(r,"path",e,["string","undefined"])},Cy=t=>{try{return wl.readdirSync(t)}catch(e){if(e.code==="ENOENT")return;throw e}},Ry=t=>new Promise((e,r)=>{wl.readdir(t).then(s=>{e(s)}).catch(s=>{s.code==="ENOENT"?e(void 0):r(s)})});Hr.validateInput=Ay;Hr.sync=Cy;Hr.async=Ry});var Wr=g(qi=>{"use strict";var jr=E("fs"),Br=E("path"),Ht=lt(),OE=Fr(),Gr=t=>t.isDirectory()?"dir":t.isFile()?"file":t.isSymbolicLink()?"symlink":"other",Py=(t,e,r)=>{e.maxLevelsDeep===void 0&&(e.maxLevelsDeep=1/0);let s=e.inspectOptions!==void 0;e.symlinks&&(e.inspectOptions===void 0?e.inspectOptions={symlinks:e.symlinks}:e.inspectOptions.symlinks=e.symlinks);let n=(o,a)=>{jr.readdirSync(o,{withFileTypes:!0}).forEach(c=>{let u=typeof c=="string",l;u?l=Br.join(o,c):l=Br.join(o,c.name);let p;if(s)p=Ht.sync(l,e.inspectOptions);else if(u){let f=Ht.sync(l,e.inspectOptions);p={name:f.name,type:f.type}}else{let f=Gr(c);if(f==="symlink"&&e.symlinks==="follow"){let w=jr.statSync(l);p={name:c.name,type:Gr(w)}}else p={name:c.name,type:f}}p!==void 0&&(r(l,p),p.type==="dir"&&a<e.maxLevelsDeep&&n(l,a+1))})},i=Ht.sync(t,e.inspectOptions);i?(s?r(t,i):r(t,{name:i.name,type:i.type}),i.type==="dir"&&n(t,1)):r(t,void 0)},Ty=5,ky=(t,e,r,s)=>{e.maxLevelsDeep===void 0&&(e.maxLevelsDeep=1/0);let n=e.inspectOptions!==void 0;e.symlinks&&(e.inspectOptions===void 0?e.inspectOptions={symlinks:e.symlinks}:e.inspectOptions.symlinks=e.symlinks);let i=[],o=0,a=()=>{if(i.length===0&&o===0)s();else if(i.length>0&&o<Ty){let p=i.pop();o+=1,p()}},c=p=>{i.push(p),a()},u=()=>{o-=1,a()},l=(p,f)=>{let w=(y,_)=>{_.type==="dir"&&f<e.maxLevelsDeep&&l(y,f+1)};c(()=>{jr.readdir(p,{withFileTypes:!0},(y,_)=>{y?s(y):(_.forEach(C=>{let A=typeof C=="string",$;if(A?$=Br.join(p,C):$=Br.join(p,C.name),n||A)c(()=>{Ht.async($,e.inspectOptions).then(L=>{L!==void 0&&(n?r($,L):r($,{name:L.name,type:L.type}),w($,L)),u()}).catch(L=>{s(L)})});else{let L=Gr(C);if(L==="symlink"&&e.symlinks==="follow")c(()=>{jr.stat($,(O,S)=>{if(O)s(O);else{let I={name:C.name,type:Gr(S)};r($,I),w($,I),u()}})});else{let O={name:C.name,type:L};r($,O),w($,O)}}}),u())})})};Ht.async(t,e.inspectOptions).then(p=>{p?(n?r(t,p):r(t,{name:p.name,type:p.type}),p.type==="dir"?l(t,1):s()):(r(t,void 0),s())}).catch(p=>{s(p)})};qi.sync=Py;qi.async=ky});var Al=g(($E,xl)=>{var Oy=typeof process=="object"&&process&&process.platform==="win32";xl.exports=Oy?{sep:"\\"}:{sep:"/"}});var kl=g((LE,Tl)=>{"use strict";Tl.exports=Rl;function Rl(t,e,r){t instanceof RegExp&&(t=Cl(t,r)),e instanceof RegExp&&(e=Cl(e,r));var s=Pl(t,e,r);return s&&{start:s[0],end:s[1],pre:r.slice(0,s[0]),body:r.slice(s[0]+t.length,s[1]),post:r.slice(s[1]+e.length)}}function Cl(t,e){var r=e.match(t);return r?r[0]:null}Rl.range=Pl;function Pl(t,e,r){var s,n,i,o,a,c=r.indexOf(t),u=r.indexOf(e,c+1),l=c;if(c>=0&&u>0){if(t===e)return[c,u];for(s=[],i=r.length;l>=0&&!a;)l==c?(s.push(l),c=r.indexOf(t,l+1)):s.length==1?a=[s.pop(),u]:(n=s.pop(),n<i&&(i=n,o=u),u=r.indexOf(e,l+1)),l=c<u&&c>=0?c:u;s.length&&(a=[i,o])}return a}});var Ml=g((NE,Dl)=>{var Ol=kl();Dl.exports=Ly;var Il="\0SLASH"+Math.random()+"\0",$l="\0OPEN"+Math.random()+"\0",Mi="\0CLOSE"+Math.random()+"\0",Ll="\0COMMA"+Math.random()+"\0",Nl="\0PERIOD"+Math.random()+"\0";function Di(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function Iy(t){return t.split("\\\\").join(Il).split("\\{").join($l).split("\\}").join(Mi).split("\\,").join(Ll).split("\\.").join(Nl)}function $y(t){return t.split(Il).join("\\").split($l).join("{").split(Mi).join("}").split(Ll).join(",").split(Nl).join(".")}function ql(t){if(!t)return[""];var e=[],r=Ol("{","}",t);if(!r)return t.split(",");var s=r.pre,n=r.body,i=r.post,o=s.split(",");o[o.length-1]+="{"+n+"}";var a=ql(i);return i.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function Ly(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Ft(Iy(t),!0).map($y)):[]}function Ny(t){return"{"+t+"}"}function qy(t){return/^-?0\d/.test(t)}function Dy(t,e){return t<=e}function My(t,e){return t>=e}function Ft(t,e){var r=[],s=Ol("{","}",t);if(!s)return[t];var n=s.pre,i=s.post.length?Ft(s.post,!1):[""];if(/\$$/.test(s.pre))for(var o=0;o<i.length;o++){var a=n+"{"+s.body+"}"+i[o];r.push(a)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),l=c||u,p=s.body.indexOf(",")>=0;if(!l&&!p)return s.post.match(/,.*\}/)?(t=s.pre+"{"+s.body+Mi+s.post,Ft(t)):[t];var f;if(l)f=s.body.split(/\.\./);else if(f=ql(s.body),f.length===1&&(f=Ft(f[0],!1).map(Ny),f.length===1))return i.map(function(W){return s.pre+f[0]+W});var w;if(l){var y=Di(f[0]),_=Di(f[1]),C=Math.max(f[0].length,f[1].length),A=f.length==3?Math.abs(Di(f[2])):1,$=Dy,L=_<y;L&&(A*=-1,$=My);var O=f.some(qy);w=[];for(var S=y;$(S,_);S+=A){var I;if(u)I=String.fromCharCode(S),I==="\\"&&(I="");else if(I=String(S),O){var T=C-I.length;if(T>0){var x=new Array(T+1).join("0");S<0?I="-"+x+I.slice(1):I=x+I}}w.push(I)}}else{w=[];for(var N=0;N<f.length;N++)w.push.apply(w,Ft(f[N],!1))}for(var N=0;N<w.length;N++)for(var o=0;o<i.length;o++){var a=n+w[N]+i[o];(!e||l||a)&&r.push(a)}}return r}});var Wl=g((DE,Bi)=>{var ie=Bi.exports=(t,e,r={})=>(Kr(e),!r.nocomment&&e.charAt(0)==="#"?!1:new ft(e,r).match(t));Bi.exports=ie;var Fi=Al();ie.sep=Fi.sep;var pe=Symbol("globstar **");ie.GLOBSTAR=pe;var Hy=Ml(),Hl={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},ji="[^/]",Hi=ji+"*?",Fy="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",jy="(?:(?!(?:\\/|^)\\.).)*?",Bl=t=>t.split("").reduce((e,r)=>(e[r]=!0,e),{}),Fl=Bl("().*{}+?[]^$\\!"),By=Bl("[.("),jl=/\/+/;ie.filter=(t,e={})=>(r,s,n)=>ie(r,t,e);var Le=(t,e={})=>{let r={};return Object.keys(t).forEach(s=>r[s]=t[s]),Object.keys(e).forEach(s=>r[s]=e[s]),r};ie.defaults=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return ie;let e=ie,r=(s,n,i)=>e(s,n,Le(t,i));return r.Minimatch=class extends e.Minimatch{constructor(n,i){super(n,Le(t,i))}},r.Minimatch.defaults=s=>e.defaults(Le(t,s)).Minimatch,r.filter=(s,n)=>e.filter(s,Le(t,n)),r.defaults=s=>e.defaults(Le(t,s)),r.makeRe=(s,n)=>e.makeRe(s,Le(t,n)),r.braceExpand=(s,n)=>e.braceExpand(s,Le(t,n)),r.match=(s,n,i)=>e.match(s,n,Le(t,i)),r};ie.braceExpand=(t,e)=>Gl(t,e);var Gl=(t,e={})=>(Kr(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:Hy(t)),Gy=1024*64,Kr=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>Gy)throw new TypeError("pattern is too long")},Ur=Symbol("subparse");ie.makeRe=(t,e)=>new ft(t,e||{}).makeRe();ie.match=(t,e,r={})=>{let s=new ft(e,r);return t=t.filter(n=>s.match(n)),s.options.nonull&&!t.length&&t.push(e),t};var Wy=t=>t.replace(/\\(.)/g,"$1"),Uy=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),ft=class{constructor(e,r){Kr(e),r||(r={}),this.options=r,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.make()}debug(){}make(){let e=this.pattern,r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();let s=this.globSet=this.braceExpand();r.debug&&(this.debug=(...n)=>console.error(...n)),this.debug(this.pattern,s),s=this.globParts=s.map(n=>n.split(jl)),this.debug(this.pattern,s),s=s.map((n,i,o)=>n.map(this.parse,this)),this.debug(this.pattern,s),s=s.filter(n=>n.indexOf(!1)===-1),this.debug(this.pattern,s),this.set=s}parseNegate(){if(this.options.nonegate)return;let e=this.pattern,r=!1,s=0;for(let n=0;n<e.length&&e.charAt(n)==="!";n++)r=!r,s++;s&&(this.pattern=e.substr(s)),this.negate=r}matchOne(e,r,s){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var i=0,o=0,a=e.length,c=r.length;i<a&&o<c;i++,o++){this.debug("matchOne loop");var u=r[o],l=e[i];if(this.debug(r,u,l),u===!1)return!1;if(u===pe){this.debug("GLOBSTAR",[r,u,l]);var p=i,f=o+1;if(f===c){for(this.debug("** at the end");i<a;i++)if(e[i]==="."||e[i]===".."||!n.dot&&e[i].charAt(0)===".")return!1;return!0}for(;p<a;){var w=e[p];if(this.debug(`
globstar while`,e,p,r,f,w),this.matchOne(e.slice(p),r.slice(f),s))return this.debug("globstar found match!",p,a,w),!0;if(w==="."||w===".."||!n.dot&&w.charAt(0)==="."){this.debug("dot detected!",e,p,r,f);break}this.debug("globstar swallow a segment, and continue"),p++}return!!(s&&(this.debug(`
>>> no match, partial?`,e,p,r,f),p===a))}var y;if(typeof u=="string"?(y=l===u,this.debug("string match",u,l,y)):(y=l.match(u),this.debug("pattern match",u,l,y)),!y)return!1}if(i===a&&o===c)return!0;if(i===a)return s;if(o===c)return i===a-1&&e[i]==="";throw new Error("wtf?")}braceExpand(){return Gl(this.pattern,this.options)}parse(e,r){Kr(e);let s=this.options;if(e==="**")if(s.noglobstar)e="*";else return pe;if(e==="")return"";let n="",i=!!s.nocase,o=!1,a=[],c=[],u,l=!1,p=-1,f=-1,w,y,_,C=e.charAt(0)==="."?"":s.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",A=()=>{if(u){switch(u){case"*":n+=Hi,i=!0;break;case"?":n+=ji,i=!0;break;default:n+="\\"+u;break}this.debug("clearStateChar %j %j",u,n),u=!1}};for(let O=0,S;O<e.length&&(S=e.charAt(O));O++){if(this.debug("%s	%s %s %j",e,O,n,S),o){if(S==="/")return!1;Fl[S]&&(n+="\\"),n+=S,o=!1;continue}switch(S){case"/":return!1;case"\\":A(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,O,n,S),l){this.debug("  in class"),S==="!"&&O===f+1&&(S="^"),n+=S;continue}this.debug("call clearStateChar %j",u),A(),u=S,s.noext&&A();continue;case"(":if(l){n+="(";continue}if(!u){n+="\\(";continue}a.push({type:u,start:O-1,reStart:n.length,open:Hl[u].open,close:Hl[u].close}),n+=u==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",u,n),u=!1;continue;case")":if(l||!a.length){n+="\\)";continue}A(),i=!0,y=a.pop(),n+=y.close,y.type==="!"&&c.push(y),y.reEnd=n.length;continue;case"|":if(l||!a.length){n+="\\|";continue}A(),n+="|";continue;case"[":if(A(),l){n+="\\"+S;continue}l=!0,f=O,p=n.length,n+=S;continue;case"]":if(O===f+1||!l){n+="\\"+S;continue}w=e.substring(f+1,O);try{RegExp("["+w+"]")}catch{_=this.parse(w,Ur),n=n.substr(0,p)+"\\["+_[0]+"\\]",i=i||_[1],l=!1;continue}i=!0,l=!1,n+=S;continue;default:A(),Fl[S]&&!(S==="^"&&l)&&(n+="\\"),n+=S;break}}for(l&&(w=e.substr(f+1),_=this.parse(w,Ur),n=n.substr(0,p)+"\\["+_[0],i=i||_[1]),y=a.pop();y;y=a.pop()){let O;O=n.slice(y.reStart+y.open.length),this.debug("setting tail",n,y),O=O.replace(/((?:\\{2}){0,64})(\\?)\|/g,(I,T,x)=>(x||(x="\\"),T+T+x+"|")),this.debug(`tail=%j
   %s`,O,O,y,n);let S=y.type==="*"?Hi:y.type==="?"?ji:"\\"+y.type;i=!0,n=n.slice(0,y.reStart)+S+"\\("+O}A(),o&&(n+="\\\\");let $=By[n.charAt(0)];for(let O=c.length-1;O>-1;O--){let S=c[O],I=n.slice(0,S.reStart),T=n.slice(S.reStart,S.reEnd-8),x=n.slice(S.reEnd),N=n.slice(S.reEnd-8,S.reEnd)+x,W=I.split("(").length-1,m=x;for(let H=0;H<W;H++)m=m.replace(/\)[+*?]?/,"");x=m;let F=x===""&&r!==Ur?"$":"";n=I+T+x+F+N}if(n!==""&&i&&(n="(?=.)"+n),$&&(n=C+n),r===Ur)return[n,i];if(!i)return Wy(e);let L=s.nocase?"i":"";try{return Object.assign(new RegExp("^"+n+"$",L),{_glob:e,_src:n})}catch{return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let r=this.options,s=r.noglobstar?Hi:r.dot?Fy:jy,n=r.nocase?"i":"",i=e.map(o=>(o=o.map(a=>typeof a=="string"?Uy(a):a===pe?pe:a._src).reduce((a,c)=>(a[a.length-1]===pe&&c===pe||a.push(c),a),[]),o.forEach((a,c)=>{a!==pe||o[c-1]===pe||(c===0?o.length>1?o[c+1]="(?:\\/|"+s+"\\/)?"+o[c+1]:o[c]=s:c===o.length-1?o[c-1]+="(?:\\/|"+s+")?":(o[c-1]+="(?:\\/|\\/"+s+"\\/)"+o[c+1],o[c+1]=pe))}),o.filter(a=>a!==pe).join("/"))).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch{this.regexp=!1}return this.regexp}match(e,r=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;let s=this.options;Fi.sep!=="/"&&(e=e.split(Fi.sep).join("/")),e=e.split(jl),this.debug(this.pattern,"split",e);let n=this.set;this.debug(this.pattern,"set",n);let i;for(let o=e.length-1;o>=0&&(i=e[o],!i);o--);for(let o=0;o<n.length;o++){let a=n[o],c=e;if(s.matchBase&&a.length===1&&(c=[i]),this.matchOne(c,a,r))return s.flipNegate?!0:!this.negate}return s.flipNegate?!1:this.negate}static defaults(e){return ie.defaults(e).Minimatch}};ie.Minimatch=ft});var Gi=g(Ul=>{"use strict";var Ky=Wl().Minimatch,Xy=(t,e)=>{let r=e.indexOf("/")!==-1,s=/^!?\//.test(e),n=/^!/.test(e),i;if(!s&&r){let o=e.replace(/^!/,"").replace(/^\.\//,"");return/\/$/.test(t)?i="":i="/",n?`!${t}${i}${o}`:`${t}${i}${o}`}return e};Ul.create=(t,e,r)=>{let s;typeof e=="string"?s=[e]:s=e;let n=s.map(o=>Xy(t,o)).map(o=>new Ky(o,{matchBase:!0,nocomment:!0,nocase:r||!1,dot:!0,windowsPathsNoEscape:!0}));return o=>{let a="matching",c=!1,u,l;for(l=0;l<n.length;l+=1){if(u=n[l],u.negate&&(a="negation",l===0&&(c=!0)),a==="negation"&&c&&!u.match(o))return!1;a==="matching"&&!c&&(c=u.match(o))}return c}}});var ef=g(Xr=>{"use strict";var Vy=E("path"),Xl=Wr(),Vl=lt(),zl=Gi(),Kl=V(),zy=(t,e,r)=>{let s=`${t}([path], options)`;Kl.argument(s,"path",e,["string"]),Kl.options(s,"options",r,{matching:["string","array of string"],filter:["function"],files:["boolean"],directories:["boolean"],recursive:["boolean"],ignoreCase:["boolean"]})},Ql=t=>{let e=t||{};return e.matching===void 0&&(e.matching="*"),e.files===void 0&&(e.files=!0),e.ignoreCase===void 0&&(e.ignoreCase=!1),e.directories===void 0&&(e.directories=!1),e.recursive===void 0&&(e.recursive=!0),e},Yl=(t,e)=>t.map(r=>Vy.relative(e,r)),Zl=t=>{let e=new Error(`Path you want to find stuff in doesn't exist ${t}`);return e.code="ENOENT",e},Jl=t=>{let e=new Error(`Path you want to find stuff in must be a directory ${t}`);return e.code="ENOTDIR",e},Qy=(t,e)=>{let r=[],s=zl.create(t,e.matching,e.ignoreCase),n=1/0;return e.recursive===!1&&(n=1),Xl.sync(t,{maxLevelsDeep:n,symlinks:"follow",inspectOptions:{times:!0,absolutePath:!0}},(i,o)=>{o&&i!==t&&s(i)&&(o.type==="file"&&e.files===!0||o.type==="dir"&&e.directories===!0)&&(e.filter?e.filter(o)&&r.push(i):r.push(i))}),r.sort(),Yl(r,e.cwd)},Yy=(t,e)=>{let r=Vl.sync(t,{symlinks:"follow"});if(r===void 0)throw Zl(t);if(r.type!=="dir")throw Jl(t);return Qy(t,Ql(e))},Zy=(t,e)=>new Promise((r,s)=>{let n=[],i=zl.create(t,e.matching,e.ignoreCase),o=1/0;e.recursive===!1&&(o=1);let a=0,c=!1,u=()=>{c&&a===0&&(n.sort(),r(Yl(n,e.cwd)))};Xl.async(t,{maxLevelsDeep:o,symlinks:"follow",inspectOptions:{times:!0,absolutePath:!0}},(l,p)=>{if(p&&l!==t&&i(l)&&(p.type==="file"&&e.files===!0||p.type==="dir"&&e.directories===!0))if(e.filter){let w=e.filter(p);typeof w.then=="function"?(a+=1,w.then(_=>{_&&n.push(l),a-=1,u()}).catch(_=>{s(_)})):w&&n.push(l)}else n.push(l)},l=>{l?s(l):(c=!0,u())})}),Jy=(t,e)=>Vl.async(t,{symlinks:"follow"}).then(r=>{if(r===void 0)throw Zl(t);if(r.type!=="dir")throw Jl(t);return Zy(t,Ql(e))});Xr.validateInput=zy;Xr.sync=Yy;Xr.async=Jy});var sf=g(Qr=>{"use strict";var e_=E("crypto"),zr=E("path"),Vr=lt(),FE=Fr(),tf=V(),rf=Wr(),t_=(t,e,r)=>{let s=`${t}(path, [options])`;if(tf.argument(s,"path",e,["string"]),tf.options(s,"options",r,{checksum:["string"],relativePath:["boolean"],times:["boolean"],symlinks:["string"]}),r&&r.checksum!==void 0&&Vr.supportedChecksumAlgorithms.indexOf(r.checksum)===-1)throw new Error(`Argument "options.checksum" passed to ${s} must have one of values: ${Vr.supportedChecksumAlgorithms.join(", ")}`);if(r&&r.symlinks!==void 0&&Vr.symlinkOptions.indexOf(r.symlinks)===-1)throw new Error(`Argument "options.symlinks" passed to ${s} must have one of values: ${Vr.symlinkOptions.join(", ")}`)},r_=(t,e)=>t===void 0?".":t.relativePath+"/"+e.name,s_=(t,e)=>{let r=e_.createHash(e);return t.forEach(s=>{r.update(s.name+s[e])}),r.digest("hex")},Wi=(t,e,r)=>{r.relativePath&&(e.relativePath=r_(t,e)),e.type==="dir"&&(e.children.forEach(s=>{Wi(e,s,r)}),e.size=0,e.children.sort((s,n)=>s.type==="dir"&&n.type==="file"?-1:s.type==="file"&&n.type==="dir"?1:s.name.localeCompare(n.name)),e.children.forEach(s=>{e.size+=s.size||0}),r.checksum&&(e[r.checksum]=s_(e.children,r.checksum)))},Ui=(t,e,r)=>{let s=e[0];if(e.length>1){let n=t.children.find(i=>i.name===s);return Ui(n,e.slice(1),r)}return t},n_=(t,e)=>{let r=e||{},s;return rf.sync(t,{inspectOptions:r},(n,i)=>{if(i){i.type==="dir"&&(i.children=[]);let o=zr.relative(t,n);o===""?s=i:Ui(s,o.split(zr.sep),i).children.push(i)}}),s&&Wi(void 0,s,r),s},i_=(t,e)=>{let r=e||{},s;return new Promise((n,i)=>{rf.async(t,{inspectOptions:r},(o,a)=>{if(a){a.type==="dir"&&(a.children=[]);let c=zr.relative(t,o);c===""?s=a:Ui(s,c.split(zr.sep),a).children.push(a)}},o=>{o?i(o):(s&&Wi(void 0,s,r),n(s))})})};Qr.validateInput=t_;Qr.sync=n_;Qr.async=i_});var Zr=g(Yr=>{"use strict";var nf=ee(),o_=V(),a_=(t,e)=>{let r=`${t}(path)`;o_.argument(r,"path",e,["string"])},c_=t=>{try{let e=nf.statSync(t);return e.isDirectory()?"dir":e.isFile()?"file":"other"}catch(e){if(e.code!=="ENOENT")throw e}return!1},u_=t=>new Promise((e,r)=>{nf.stat(t).then(s=>{s.isDirectory()?e("dir"):s.isFile()?e("file"):e("other")}).catch(s=>{s.code==="ENOENT"?e(!1):r(s)})});Yr.validateInput=a_;Yr.sync=c_;Yr.async=u_});var zi=g(rs=>{"use strict";var jt=E("path"),oe=ee(),Vi=Ge(),Jr=Zr(),of=lt(),l_=Mt(),f_=Gi(),af=Tr(),cf=Wr(),Ki=V(),p_=(t,e,r,s)=>{let n=`${t}(from, to, [options])`;Ki.argument(n,"from",e,["string"]),Ki.argument(n,"to",r,["string"]),Ki.options(n,"options",s,{overwrite:["boolean","function"],matching:["string","array of string"],ignoreCase:["boolean"]})},uf=(t,e)=>{let r=t||{},s={};return r.ignoreCase===void 0&&(r.ignoreCase=!1),s.overwrite=r.overwrite,r.matching?s.allowedToCopy=f_.create(e,r.matching,r.ignoreCase):s.allowedToCopy=()=>!0,s},lf=t=>{let e=new Error(`Path to copy doesn't exist ${t}`);return e.code="ENOENT",e},es=t=>{let e=new Error(`Destination path already exists ${t}`);return e.code="EEXIST",e},ts={mode:!0,symlinks:"report",times:!0,absolutePath:!0},ff=t=>typeof t.opts.overwrite!="function"&&t.opts.overwrite!==!0,h_=(t,e,r)=>{if(!Jr.sync(t))throw lf(t);if(Jr.sync(e)&&!r.overwrite)throw es(e)},d_=t=>{if(typeof t.opts.overwrite=="function"){let e=of.sync(t.destPath,ts);return t.opts.overwrite(t.srcInspectData,e)}return t.opts.overwrite===!0},m_=(t,e,r,s)=>{let n=oe.readFileSync(t);try{oe.writeFileSync(e,n,{mode:r,flag:"wx"})}catch(i){if(i.code==="ENOENT")l_.sync(e,n,{mode:r});else if(i.code==="EEXIST"){if(d_(s))oe.writeFileSync(e,n,{mode:r});else if(ff(s))throw es(s.destPath)}else throw i}},g_=(t,e)=>{let r=oe.readlinkSync(t);try{oe.symlinkSync(r,e)}catch(s){if(s.code==="EEXIST")oe.unlinkSync(e),oe.symlinkSync(r,e);else throw s}},y_=(t,e,r,s)=>{let n={srcPath:t,destPath:r,srcInspectData:e,opts:s},i=af.normalizeFileMode(e.mode);e.type==="dir"?Vi.createSync(r,{mode:i}):e.type==="file"?m_(t,r,i,n):e.type==="symlink"&&g_(t,r)},__=(t,e,r)=>{let s=uf(r,t);h_(t,e,s),cf.sync(t,{inspectOptions:ts},(n,i)=>{let o=jt.relative(t,n),a=jt.resolve(e,o);s.allowedToCopy(n,a,i)&&y_(n,i,a,s)})},b_=(t,e,r)=>Jr.async(t).then(s=>{if(s)return Jr.async(e);throw lf(t)}).then(s=>{if(s&&!r.overwrite)throw es(e)}),S_=t=>new Promise((e,r)=>{typeof t.opts.overwrite=="function"?of.async(t.destPath,ts).then(s=>{e(t.opts.overwrite(t.srcInspectData,s))}).catch(r):e(t.opts.overwrite===!0)}),Xi=(t,e,r,s,n)=>new Promise((i,o)=>{let a=n||{},c="wx";a.overwrite&&(c="w");let u=oe.createReadStream(t),l=oe.createWriteStream(e,{mode:r,flags:c});u.on("error",o),l.on("error",p=>{u.resume(),p.code==="ENOENT"?Vi.createAsync(jt.dirname(e)).then(()=>{Xi(t,e,r,s).then(i,o)}).catch(o):p.code==="EEXIST"?S_(s).then(f=>{f?Xi(t,e,r,s,{overwrite:!0}).then(i,o):ff(s)?o(es(e)):i()}).catch(o):o(p)}),l.on("finish",i),u.pipe(l)}),E_=(t,e)=>oe.readlink(t).then(r=>new Promise((s,n)=>{oe.symlink(r,e).then(s).catch(i=>{i.code==="EEXIST"?oe.unlink(e).then(()=>oe.symlink(r,e)).then(s,n):n(i)})})),v_=(t,e,r,s)=>{let n={srcPath:t,destPath:r,srcInspectData:e,opts:s},i=af.normalizeFileMode(e.mode);return e.type==="dir"?Vi.createAsync(r,{mode:i}):e.type==="file"?Xi(t,r,i,n):e.type==="symlink"?E_(t,r):Promise.resolve()},w_=(t,e,r)=>new Promise((s,n)=>{let i=uf(r,t);b_(t,e,i).then(()=>{let o=!1,a=0;cf.async(t,{inspectOptions:ts},(c,u)=>{if(u){let l=jt.relative(t,c),p=jt.resolve(e,l);i.allowedToCopy(c,u,p)&&(a+=1,v_(c,u,p,i).then(()=>{a-=1,o&&a===0&&s()}).catch(n))}},c=>{c?n(c):(o=!0,o&&a===0&&s())})}).catch(n)});rs.validateInput=p_;rs.sync=__;rs.async=w_});var Yi=g(ns=>{"use strict";var pf=E("path"),pt=ee(),Qi=V(),hf=zi(),df=Ge(),Bt=Zr(),ss=Or(),x_=(t,e,r,s)=>{let n=`${t}(from, to, [options])`;Qi.argument(n,"from",e,["string"]),Qi.argument(n,"to",r,["string"]),Qi.options(n,"options",s,{overwrite:["boolean"]})},mf=t=>t||{},gf=t=>{let e=new Error(`Destination path already exists ${t}`);return e.code="EEXIST",e},yf=t=>{let e=new Error(`Path to move doesn't exist ${t}`);return e.code="ENOENT",e},A_=(t,e,r)=>{let s=mf(r);if(Bt.sync(e)!==!1&&s.overwrite!==!0)throw gf(e);try{pt.renameSync(t,e)}catch(n){if(n.code==="EISDIR"||n.code==="EPERM")ss.sync(e),pt.renameSync(t,e);else if(n.code==="EXDEV")hf.sync(t,e,{overwrite:!0}),ss.sync(t);else if(n.code==="ENOENT"){if(!Bt.sync(t))throw yf(t);df.createSync(pf.dirname(e)),pt.renameSync(t,e)}else throw n}},C_=t=>new Promise((e,r)=>{let s=pf.dirname(t);Bt.async(s).then(n=>{n?r():df.createAsync(s).then(e,r)}).catch(r)}),R_=(t,e,r)=>{let s=mf(r);return new Promise((n,i)=>{Bt.async(e).then(o=>{o!==!1&&s.overwrite!==!0?i(gf(e)):pt.rename(t,e).then(n).catch(a=>{a.code==="EISDIR"||a.code==="EPERM"?ss.async(e).then(()=>pt.rename(t,e)).then(n,i):a.code==="EXDEV"?hf.async(t,e,{overwrite:!0}).then(()=>ss.async(t)).then(n,i):a.code==="ENOENT"?Bt.async(t).then(c=>{c?C_(e).then(()=>pt.rename(t,e)).then(n,i):i(yf(t))}).catch(i):i(a)})})})};ns.validateInput=x_;ns.sync=A_;ns.async=R_});var wf=g(is=>{"use strict";var Sf=ee(),_f=V(),bf=["utf8","buffer","json","jsonWithDates"],P_=(t,e,r)=>{let s=`${t}(path, returnAs)`;if(_f.argument(s,"path",e,["string"]),_f.argument(s,"returnAs",r,["string","undefined"]),r&&bf.indexOf(r)===-1)throw new Error(`Argument "returnAs" passed to ${s} must have one of values: ${bf.join(", ")}`)},Ef=(t,e)=>typeof e=="string"&&/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*))(?:Z|(\+|-)([\d|:]*))?$/.exec(e)?new Date(e):e,vf=(t,e)=>{let r=new Error(`JSON parsing failed while reading ${t} [${e}]`);return r.originalError=e,r},T_=(t,e)=>{let r=e||"utf8",s,n="utf8";r==="buffer"&&(n=null);try{s=Sf.readFileSync(t,{encoding:n})}catch(i){if(i.code==="ENOENT")return;throw i}try{r==="json"?s=JSON.parse(s):r==="jsonWithDates"&&(s=JSON.parse(s,Ef))}catch(i){throw vf(t,i)}return s},k_=(t,e)=>new Promise((r,s)=>{let n=e||"utf8",i="utf8";n==="buffer"&&(i=null),Sf.readFile(t,{encoding:i}).then(o=>{try{r(n==="json"?JSON.parse(o):n==="jsonWithDates"?JSON.parse(o,Ef):o)}catch(a){s(vf(t,a))}}).catch(o=>{o.code==="ENOENT"?r(void 0):s(o)})});is.validateInput=P_;is.sync=T_;is.async=k_});var Af=g(os=>{"use strict";var Gt=E("path"),xf=Yi(),Zi=V(),O_=(t,e,r,s)=>{let n=`${t}(path, newName, [options])`;if(Zi.argument(n,"path",e,["string"]),Zi.argument(n,"newName",r,["string"]),Zi.options(n,"options",s,{overwrite:["boolean"]}),Gt.basename(r)!==r)throw new Error(`Argument "newName" passed to ${n} should be a filename, not a path. Received "${r}"`)},I_=(t,e,r)=>{let s=Gt.join(Gt.dirname(t),e);xf.sync(t,s,r)},$_=(t,e,r)=>{let s=Gt.join(Gt.dirname(t),e);return xf.async(t,s,r)};os.validateInput=O_;os.sync=I_;os.async=$_});var Tf=g(cs=>{"use strict";var Rf=E("path"),as=ee(),Cf=V(),Pf=Ge(),L_=(t,e,r)=>{let s=`${t}(symlinkValue, path)`;Cf.argument(s,"symlinkValue",e,["string"]),Cf.argument(s,"path",r,["string"])},N_=(t,e)=>{try{as.symlinkSync(t,e)}catch(r){if(r.code==="ENOENT")Pf.createSync(Rf.dirname(e)),as.symlinkSync(t,e);else throw r}},q_=(t,e)=>new Promise((r,s)=>{as.symlink(t,e).then(r).catch(n=>{n.code==="ENOENT"?Pf.createAsync(Rf.dirname(e)).then(()=>as.symlink(t,e)).then(r,s):s(n)})});cs.validateInput=L_;cs.sync=N_;cs.async=q_});var Of=g(Ji=>{"use strict";var kf=E("fs");Ji.createWriteStream=kf.createWriteStream;Ji.createReadStream=kf.createReadStream});var Df=g(us=>{"use strict";var eo=E("path"),D_=E("os"),If=E("crypto"),$f=Ge(),Lf=ee(),M_=V(),H_=(t,e)=>{let r=`${t}([options])`;M_.options(r,"options",e,{prefix:["string"],basePath:["string"]})},Nf=(t,e)=>{t=t||{};let r={};return typeof t.prefix!="string"?r.prefix="":r.prefix=t.prefix,typeof t.basePath=="string"?r.basePath=eo.resolve(e,t.basePath):r.basePath=D_.tmpdir(),r},qf=32,F_=(t,e)=>{let r=Nf(e,t),s=If.randomBytes(qf/2).toString("hex"),n=eo.join(r.basePath,r.prefix+s);try{Lf.mkdirSync(n)}catch(i){if(i.code==="ENOENT")$f.sync(n);else throw i}return n},j_=(t,e)=>new Promise((r,s)=>{let n=Nf(e,t);If.randomBytes(qf/2,(i,o)=>{if(i)s(i);else{let a=o.toString("hex"),c=eo.join(n.basePath,n.prefix+a);Lf.mkdir(c,u=>{u?u.code==="ENOENT"?$f.async(c).then(()=>{r(c)},s):s(u):r(c)})}})});us.validateInput=H_;us.sync=F_;us.async=j_});var Bf=g((QE,jf)=>{"use strict";var Mf=E("util"),to=E("path"),ls=ml(),fs=Ge(),ps=bl(),hs=ef(),ds=lt(),ms=sf(),gs=zi(),ys=Zr(),_s=Fr(),bs=Yi(),Ss=wf(),Es=Or(),vs=Af(),ws=Tf(),Hf=Of(),xs=Df(),As=Mt(),Ff=t=>{let e=()=>t||process.cwd(),r=function(){if(arguments.length===0)return e();let a=Array.prototype.slice.call(arguments),c=[e()].concat(a);return Ff(to.resolve.apply(null,c))},s=a=>to.resolve(e(),a),n=function(){return Array.prototype.unshift.call(arguments,e()),to.resolve.apply(null,arguments)},i=a=>{let c=a||{};return c.cwd=e(),c},o={cwd:r,path:n,append:(a,c,u)=>{ls.validateInput("append",a,c,u),ls.sync(s(a),c,u)},appendAsync:(a,c,u)=>(ls.validateInput("appendAsync",a,c,u),ls.async(s(a),c,u)),copy:(a,c,u)=>{gs.validateInput("copy",a,c,u),gs.sync(s(a),s(c),u)},copyAsync:(a,c,u)=>(gs.validateInput("copyAsync",a,c,u),gs.async(s(a),s(c),u)),createWriteStream:(a,c)=>Hf.createWriteStream(s(a),c),createReadStream:(a,c)=>Hf.createReadStream(s(a),c),dir:(a,c)=>{fs.validateInput("dir",a,c);let u=s(a);return fs.sync(u,c),r(u)},dirAsync:(a,c)=>(fs.validateInput("dirAsync",a,c),new Promise((u,l)=>{let p=s(a);fs.async(p,c).then(()=>{u(r(p))},l)})),exists:a=>(ys.validateInput("exists",a),ys.sync(s(a))),existsAsync:a=>(ys.validateInput("existsAsync",a),ys.async(s(a))),file:(a,c)=>(ps.validateInput("file",a,c),ps.sync(s(a),c),o),fileAsync:(a,c)=>(ps.validateInput("fileAsync",a,c),new Promise((u,l)=>{ps.async(s(a),c).then(()=>{u(o)},l)})),find:(a,c)=>(typeof c>"u"&&typeof a=="object"&&(c=a,a="."),hs.validateInput("find",a,c),hs.sync(s(a),i(c))),findAsync:(a,c)=>(typeof c>"u"&&typeof a=="object"&&(c=a,a="."),hs.validateInput("findAsync",a,c),hs.async(s(a),i(c))),inspect:(a,c)=>(ds.validateInput("inspect",a,c),ds.sync(s(a),c)),inspectAsync:(a,c)=>(ds.validateInput("inspectAsync",a,c),ds.async(s(a),c)),inspectTree:(a,c)=>(ms.validateInput("inspectTree",a,c),ms.sync(s(a),c)),inspectTreeAsync:(a,c)=>(ms.validateInput("inspectTreeAsync",a,c),ms.async(s(a),c)),list:a=>(_s.validateInput("list",a),_s.sync(s(a||"."))),listAsync:a=>(_s.validateInput("listAsync",a),_s.async(s(a||"."))),move:(a,c,u)=>{bs.validateInput("move",a,c,u),bs.sync(s(a),s(c),u)},moveAsync:(a,c,u)=>(bs.validateInput("moveAsync",a,c,u),bs.async(s(a),s(c),u)),read:(a,c)=>(Ss.validateInput("read",a,c),Ss.sync(s(a),c)),readAsync:(a,c)=>(Ss.validateInput("readAsync",a,c),Ss.async(s(a),c)),remove:a=>{Es.validateInput("remove",a),Es.sync(s(a||"."))},removeAsync:a=>(Es.validateInput("removeAsync",a),Es.async(s(a||"."))),rename:(a,c,u)=>{vs.validateInput("rename",a,c,u),vs.sync(s(a),c,u)},renameAsync:(a,c,u)=>(vs.validateInput("renameAsync",a,c,u),vs.async(s(a),c,u)),symlink:(a,c)=>{ws.validateInput("symlink",a,c),ws.sync(a,s(c))},symlinkAsync:(a,c)=>(ws.validateInput("symlinkAsync",a,c),ws.async(a,s(c))),tmpDir:a=>{xs.validateInput("tmpDir",a);let c=xs.sync(e(),a);return r(c)},tmpDirAsync:a=>(xs.validateInput("tmpDirAsync",a),new Promise((c,u)=>{xs.async(e(),a).then(l=>{c(r(l))},u)})),write:(a,c,u)=>{As.validateInput("write",a,c,u),As.sync(s(a),c,u)},writeAsync:(a,c,u)=>(As.validateInput("writeAsync",a,c,u),As.async(s(a),c,u))};return Mf.inspect.custom!==void 0&&(o[Mf.inspect.custom]=()=>`[fs-jetpack CWD: ${e()}]`),o};jf.exports=Ff});var Cs=g((YE,Gf)=>{"use strict";var B_=Bf();Gf.exports=B_()});var U_={};so(U_,{default:()=>W_});var qt={};so(qt,{Bud:()=>Nt,Build:()=>ht,Clean:()=>dt,Contributors:()=>gt,Dev:()=>yt,Docs:()=>_t,DocsDev:()=>bt,Docusaurus:()=>We,Eslint:()=>Ue,Lint:()=>St,Netlify:()=>Ke,PackageCheck:()=>tt,Pm2:()=>rt,Prettier:()=>st,RegistryClean:()=>Et,RegistryStart:()=>vt,RegistryStop:()=>wt,Release:()=>xt,Syncpack:()=>nt,TestRun:()=>At,Tsc:()=>it,Version:()=>Ct,Vitest:()=>ot,YarnPluginBuild:()=>mt});var oo=E("clipanion");var io=E("@yarnpkg/cli"),R=class extends io.BaseCommand{constructor(){super();this.result=0;this.promised=[]}async throwIfError(r){if(r!==0)throw new Error("command failed")}};var We=class extends R{constructor(){super(...arguments);this.passthrough=oo.Option.Proxy({name:"docusaurus options"})}async execute(){return await this.cli.run(["workspace","@repo/docs","docusaurus",...this.passthrough??[]]).then(this.throwIfError).catch(this.catch)}};We.paths=[["@bud","docusaurus"]],We.usage={category:"@bud",description:"run docusaurus",examples:[["docusaurus usage info","yarn @bud docusaurus --help"]]};var lo=E("module"),fo=E("path"),po=E("url"),Ee={},ho=((Ee==null?void 0:Ee.url)&&typeof Ee.url<"u"?(0,po.fileURLToPath)(Ee.url):__dirname).split("sources/").shift(),P=(...t)=>(0,fo.join)(ho,...t),Z_=P("package.json"),J_=P("storage"),eb=P("config","tsconfig.json");var tb={config:P("config"),fixtures:P("storage","fixtures"),root:ho,sources:P("sources"),storage:P("storage"),tests:P("tests")},uo;typeof(Ee==null?void 0:Ee.url)<"u"?uo=(0,lo.createRequire)(Ee.url)("../../../config/monorepo.config.cjs"):uo=co();var mo=E("clipanion");var Ue=class extends R{constructor(){super(...arguments);this.passthrough=mo.Option.Proxy({name:"pm2 options"})}async execute(){await this.cli.run(["eslint",P("examples/**/*.{ts,tsx,js,jsx}"),P("sources/**/src/**/*.{ts,tsx,js,jsx}"),P("tests/**/*.{ts,tsx,js,jsx}"),P("config/**/*.{ts,tsx,js,jsx}"),"--config",P("config/eslint.config.cjs"),"--no-error-on-unmatched-pattern",...this.passthrough]).then(this.throwIfError).catch(this.catch)}};Ue.paths=[["@bud","eslint"]],Ue.usage={category:"@bud",description:"Eslint passthrough",examples:[["eslint usage info","yarn @bud eslint --help"]]};var go=E("clipanion");var Ke=class extends R{constructor(){super(...arguments);this.passthrough=go.Option.Proxy({name:"netlify options"})}async execute(){return await this.cli.run(["workspace","@repo/docs","netlify",...this.passthrough??[]]).then(this.throwIfError).catch(this.catch)}};Ke.paths=[["@bud","netlify"]],Ke.usage={category:"@bud",description:"run netlify",examples:[["netlify usage info","yarn @bud netlify --help"]]};var Gu=E("clipanion");var ku=re(E("fs"),1),Ou=re(E("path"),1),Iu=re(Ts(),1),Lt=re(di(),1),$t=re(uu(),1);var vu=re(E("process"),1),wi=re(E("fs"),1),Be=re(E("path"),1),xi=re(di(),1),wu=re(bu(),1);function et(t){let e=/^\\\\\?\\/.test(t),r=/[^\u0000-\u0080]+/.test(t);return e||r?t:t.replace(/\\/g,"/")}var Su=E("url"),Eu=E("stream"),It=t=>t instanceof URL?(0,Su.fileURLToPath)(t):t,Ar=class extends Eu.Transform{constructor(e){super({objectMode:!0,transform(r,s,n){n(void 0,e(r)?r:void 0)}})}},Cr=t=>t[0]==="!";var xu={ignore:["**/node_modules","**/flow-typed","**/coverage","**/.git"],absolute:!0,dot:!0},Au="**/.gitignore",Ag=(t,e)=>Cr(t)?"!"+Be.default.posix.join(e,t.slice(1)):Be.default.posix.join(e,t),Cg=(t,e)=>{let r=et(Be.default.relative(e,Be.default.dirname(t.filePath)));return t.content.split(/\r?\n/).filter(s=>s&&!s.startsWith("#")).map(s=>Ag(s,r))},Rg=(t,e)=>{if(e=et(e),Be.default.isAbsolute(t)){if(et(t).startsWith(e))return Be.default.relative(e,t);throw new Error(`Path ${t} is not in cwd ${e}`)}return t},Cu=(t,e)=>{let r=t.flatMap(n=>Cg(n,e)),s=(0,wu.default)().add(r);return n=>(n=It(n),n=Rg(n,e),n?s.ignores(et(n)):!1)},Ru=(t={})=>({cwd:It(t.cwd)||vu.default.cwd(),suppressErrors:Boolean(t.suppressErrors),deep:typeof t.deep=="number"?t.deep:Number.POSITIVE_INFINITY}),Pu=async(t,e)=>{let{cwd:r,suppressErrors:s,deep:n}=Ru(e),i=await(0,xi.default)(t,{cwd:r,suppressErrors:s,deep:n,...xu}),o=await Promise.all(i.map(async a=>({filePath:a,content:await wi.default.promises.readFile(a,"utf8")})));return Cu(o,r)},Tu=(t,e)=>{let{cwd:r,suppressErrors:s,deep:n}=Ru(e),o=xi.default.sync(t,{cwd:r,suppressErrors:s,deep:n,...xu}).map(a=>({filePath:a,content:wi.default.readFileSync(a,"utf8")}));return Cu(o,r)};var Pg=t=>{if(t.some(e=>typeof e!="string"))throw new TypeError("Patterns must be a string or an array of strings")},Ai=t=>(t=[...new Set([t].flat())],Pg(t),t),Tg=t=>{if(!t.cwd)return;let e;try{e=ku.default.statSync(t.cwd)}catch{return}if(!e.isDirectory())throw new Error("The `cwd` option must be a path to a directory")},$u=(t={})=>(t={...t,ignore:t.ignore||[],expandDirectories:t.expandDirectories===void 0?!0:t.expandDirectories,cwd:It(t.cwd)},Tg(t),t),Lu=t=>async(e,r)=>t(Ai(e),$u(r)),Rr=t=>(e,r)=>t(Ai(e),$u(r)),Nu=t=>{let{ignoreFiles:e,gitignore:r}=t,s=e?Ai(e):[];return r&&s.push(Au),s},kg=async t=>{let e=Nu(t);return Du(e.length>0&&await Pu(e,t))},qu=t=>{let e=Nu(t);return Du(e.length>0&&Tu(e,t))},Du=t=>{let e=new Set;return r=>{let s=r.path||r,n=Ou.default.normalize(s),i=e.has(n)||t&&t(s);return e.add(n),!i}},Mu=(t,e)=>t.flat().filter(r=>e(r)),Og=(t,e)=>(0,Iu.default)(t).pipe(new Ar(r=>e(r))),Hu=(t,e)=>{let r=[];for(;t.length>0;){let s=t.findIndex(i=>Cr(i));if(s===-1){r.push({patterns:t,options:e});break}let n=t[s].slice(1);for(let i of r)i.options.ignore.push(n);s!==0&&r.push({patterns:t.slice(0,s),options:{...e,ignore:[...e.ignore,n]}}),t=t.slice(s+1)}return r},Fu=(t,e)=>({...e?{cwd:e}:{},...Array.isArray(t)?{files:t}:t}),ju=async(t,e)=>{let r=Hu(t,e),{cwd:s,expandDirectories:n}=e;if(!n)return r;let i=Fu(n,s),o=s?{cwd:s}:void 0;return Promise.all(r.map(async a=>{let{patterns:c,options:u}=a;return[c,u.ignore]=await Promise.all([(0,$t.default)(c,i),(0,$t.default)(u.ignore,o)]),{patterns:c,options:u}}))},Ci=(t,e)=>{let r=Hu(t,e),{cwd:s,expandDirectories:n}=e;if(!n)return r;let i=Fu(n,s),o=s?{cwd:s}:void 0;return r.map(a=>{let{patterns:c,options:u}=a;return c=$t.default.sync(c,i),u.ignore=$t.default.sync(u.ignore,o),{patterns:c,options:u}})},Bu=Lu(async(t,e)=>{let[r,s]=await Promise.all([ju(t,e),kg(e)]),n=await Promise.all(r.map(i=>(0,Lt.default)(i.patterns,i.options)));return Mu(n,s)}),jS=Rr((t,e)=>{let r=Ci(t,e),s=qu(e),n=r.map(i=>Lt.default.sync(i.patterns,i.options));return Mu(n,s)}),BS=Rr((t,e)=>{let r=Ci(t,e),s=qu(e),n=r.map(i=>Lt.default.stream(i.patterns,i.options));return Og(n,s)}),GS=Rr((t,e)=>t.some(r=>Lt.default.isDynamicPattern(r,e))),WS=Lu(ju),US=Rr(Ci);var tt=class extends R{constructor(){super(...arguments);this.passthrough=Gu.Option.Proxy({name:"pm2 options"})}async execute(){await Bu(["sources/@roots/*"],{onlyDirectories:!0}).then(async r=>await Promise.all([...r,"sources/create-bud-app"].flatMap(async s=>await this.cli.run(["package-check","--cwd",s]).then(this.throwIfError).catch(this.catch))).catch(this.catch)).catch(this.catch)}};tt.paths=[["@bud","package-check"]],tt.usage={category:"@bud",description:"PackageCheck passthrough",examples:[["package-check usage info","yarn @bud package-check --help"]]};var Wu=E("clipanion");var rt=class extends R{constructor(){super(...arguments);this.passthrough=Wu.Option.Proxy({name:"pm2 options"})}async execute(){await this.cli.run(["node",P("node_modules",".bin","pm2"),...this.passthrough]).then(this.throwIfError).catch(this.catch)}};rt.paths=[["@bud","pm2"]],rt.usage={category:"@bud",description:"registry access",examples:[["pm2 usage info","yarn @bud pm2 --info"]]};var Uu=E("clipanion");var st=class extends R{constructor(){super(...arguments);this.passthrough=Uu.Option.Proxy({name:"pm2 options"})}async execute(){await this.cli.run(["prettier",P("sources/@roots/*/src/**/*"),"--config",P("config/prettier.config.cjs"),"--ignore-unknown","--no-error-on-unmatched-pattern","--write",...this.passthrough]).then(this.throwIfError).catch(this.catch)}};st.paths=[["@bud","prettier"]],st.usage={category:"@bud",description:"Prettier passthrough",examples:[["prettier usage info","yarn @bud prettier --help"]]};var Ku=E("clipanion");var nt=class extends R{constructor(){super(...arguments);this.passthrough=Ku.Option.Proxy({name:"pm2 options"})}async execute(){await this.cli.run(["syncpack","list-mismatches","--config",P("config/syncpack.config.cjs")]).then(this.throwIfError).catch(this.catch)}};nt.paths=[["@bud","syncpack"]],nt.usage={category:"@bud",description:"Syncpack passthrough",examples:[["syncpack usage info","yarn @bud syncpack --help"]]};var Xu=E("clipanion");var it=class extends R{constructor(){super(...arguments);this.passthrough=Xu.Option.Proxy({name:"tsc options"})}async execute(){return await this.cli.run(["node",P("node_modules",".bin","tsc"),...this.passthrough]).then(this.throwIfError).catch(this.catch)}};it.paths=[["@bud","tsc"]],it.usage={category:"@bud",description:"Run the typescript compiler",examples:[["tsc usage info","yarn @bud tsc --help"]]};var Vu=E("clipanion");var ot=class extends R{constructor(){super(...arguments);this.passthrough=Vu.Option.Proxy({name:"vitest options"})}async execute(){return await this.cli.run(["node",P("node_modules",".bin","vitest"),...this.passthrough]).then(this.throwIfError).catch(this.catch)}};ot.paths=[["@bud","vitest"]],ot.usage={category:"@bud",description:"Run vitest",examples:[["vitest usage info","yarn @bud vitest --help"]]};var Nt=class extends R{async execute(){process.stdout.write(`
 _               _
| |__  _   _  __| |
|  _ \\| | | |/ _  |
| |_) | |_| | (_| |
|_.__/ \\__._|\\__._|
`),Object.values(qt).filter(e=>e.usage).forEach(e=>{var r;(r=e.usage.examples)==null||r.forEach(([s,n])=>{process.stdout.write(`
\x1B[34m${n}\x1B[0m  ${s}
`)})})}};Nt.paths=[["@bud"]];var he=re(Cs());var ht=class extends R{constructor(){super(...arguments);this.tsconfig=P("config/tsconfig.json")}async bundle({alias:r={},external:s=[],format:n="esm",outdir:i,outfile:o,source:a}){return this.cli.run(["esbuild","--alias:webpack=@roots/bud-support/webpack","--allow-overwrite","--bundle","--external:crypto","--external:module","--external:node:*","--external:@roots/*","--minify","--log-level=warning","--platform=node",...Object.entries(r).map(([c,u])=>`--alias:${c}=${u}`),...s.map(c=>`--external:${c}`),`--format=${n}`,o?`--outfile=${o}`:null,i?`--outdir=${i}`:null,a].filter(Boolean))}async execute(){if(await Promise.all([this.bundle({format:"cjs",outfile:"sources/@roots/filesystem/vendor/sdk/index.cjs",source:"node_modules/@aws-sdk/client-s3/dist-es/index.js"}),this.bundle({format:"esm",outfile:"sources/@roots/bud-support/vendor/highlight/index.js",source:"sources/@roots/bud-support/src/highlight/index.ts"}).then(async()=>{await he.writeAsync(P("sources/@roots/bud-support/vendor/highlight/index.d.ts"),"export declare const highlight: (code: string) => string;")}),this.bundle({external:["./runtime/getUrl.js"],format:"cjs",outfile:P("sources/@roots/bud-support/vendor/html-loader/index.cjs"),source:P("node_modules/html-loader/dist/index.js")}).then(async()=>{let s=P("sources/@roots/bud-support/vendor/html-loader/index.cjs"),n=await he.readAsync(s);await he.writeAsync(s,n.replace(/\.\/runtime\/getUrl\.js/g,"./runtime/getUrl.cjs")),await he.copyAsync(P("node_modules/html-loader/dist/runtime/getUrl.js"),P("sources/@roots/bud-support/vendor/html-loader/runtime/getUrl.cjs"),{overwrite:!0})}),this.bundle({external:["./lib/loader.js"],format:"cjs",outfile:"sources/@roots/bud-support/vendor/html-webpack-plugin/index.cjs",source:"node_modules/html-webpack-plugin/index.js"}).then(async()=>{let s=P("sources/@roots/bud-support/vendor/html-webpack-plugin/index.cjs"),n=await he.readAsync(s);await he.writeAsync(s,n.replace(/\.\/lib\/loader\.js/g,"./lib/loader.cjs"))}),he.copyAsync(P("node_modules/html-webpack-plugin/lib/loader.js"),P("sources/@roots/bud-support/vendor/html-webpack-plugin/lib/loader.cjs"),{overwrite:!0}),he.copyAsync(P("node_modules/html-webpack-plugin/typings.d.ts"),P("sources/@roots/bud-support/vendor/html-webpack-plugin/index.d.cts"),{overwrite:!0})]).catch(s=>{throw s}),await this.cli.run(["@bud","tsc","--build",this.tsconfig,"--force"]).catch(s=>{throw s})!==0)throw new Error("Build failed")}};ht.paths=[["@bud","build"]],ht.usage={category:"@bud",description:"Build packages",examples:[["build packages","yarn @bud build"]]};var dt=class extends R{async execute(){await this.cli.run(["exec","git","clean","-fxd"])}};dt.paths=[["@bud","clean"]],dt.usage={category:"@bud",description:"clean project artifacts",examples:[["clean project artifacts","yarn @bud clean"]]};var mt=class extends R{async execute(){await this.cli.run(["workspace","@repo/yarn-plugin-bud","build"]).catch(e=>{throw e}).then(e=>{if(e!==0)throw new Error("Plugin could not be built.")})}};mt.paths=[["@bud","plugin","build"]],mt.usage={category:"@bud",examples:[["build @bud yarn plugin","yarn @bud plugin build"]]};var gt=class extends R{async execute(){await this.cli.run(["workspace","@repo/markdown-kit","exec","node","contributors/index.js"]).catch(e=>{throw e})}};gt.paths=[["@bud","contributors"]],gt.usage={category:"@bud",description:"Aggregate contributor data",examples:[["update contributors","yarn @bud contributors"]]};var yt=class extends R{async execute(){await this.cli.run(["@bud","build"]),await this.cli.run(["@bud","docs","build"]),this.promised.push(this.cli.run(["@bud","tsc","--watch"]),this.cli.run(["@bud","test","unit"]),this.cli.run(["@bud","docs","dev"])),await Promise.all(this.promised)}};yt.paths=[["@bud","dev"]],yt.usage={category:"@bud",description:"develop project code",examples:[["run tsc, docusaurus & vitest in watch mode","yarn @bud dev"]]};var _t=class extends R{async execute(){await this.cli.run(["@bud","build"]).then(e=>e!==0&&this.catch(new Error(`\`@bud build\` returned error code ${e}`))).catch(this.catch),await this.cli.run(["workspace","@repo/markdown-kit","run","build"]).then(e=>e!==0&&this.catch(new Error(`\`workspace @repo/markdown-kit run build\` returned error code ${e}`))).catch(this.catch),await Promise.all([this.cli.run(["workspace","@repo/markdown-kit","exec","node","compiled/cli-examples/index.js"]).catch(this.catch),this.cli.run(["workspace","@repo/markdown-kit","exec","node","compiled/releases/index.js"]).catch(this.catch),this.cli.run(["workspace","@repo/markdown-kit","exec","node","compiled/readme/index.js"]).catch(this.catch)]),await this.cli.run(["@bud","docusaurus","build"]).then(e=>e!==0&&this.catch(new Error(`\`@bud docusaurus build\` returned error code ${e}`))).catch(this.catch)}};_t.paths=[["@bud","docs"],["@bud","docs","build"]],_t.usage={category:"@bud",description:"build docs and other markdown files",examples:[["build docs and readme","yarn @bud docs"]]};var bt=class extends R{async execute(){await this.cli.run(["@bud","docs","build"]),await this.cli.run(["@bud","docusaurus","start"])}};bt.paths=[["@bud","docs","dev"]],bt.usage={category:"@bud",description:"develop docs",examples:[["develop docs","yarn @bud docs dev"]]};var St=class extends R{async execute(){this.promised.push(this.cli.run(["@bud","eslint"]).then(this.throwIfError).catch(this.catch),this.cli.run(["@bud","syncpack"]).then(this.throwIfError).catch(this.catch),this.cli.run(["@bud","prettier"]).then(this.throwIfError).catch(this.catch),this.cli.run(["@bud","package-check"]).then(this.throwIfError).catch(this.catch)),await Promise.all(this.promised)}};St.paths=[["@bud","lint"]],St.usage={category:"@bud",description:"Lint project"};var Ae=re(Cs());var Et=class extends R{async execute(){if(await Ae.removeAsync(P("storage/mocks")).catch(this.catch),await Ae.removeAsync(P("storage","packages")).catch(this.catch),await Ae.existsAsync(P("storage",".verdaccio-db.json"))){let r=await Ae.readAsync(P("storage",".verdaccio-db.json"),"json").catch(this.catch);r.list=[],await Ae.writeAsync(P("storage/.verdaccio-db.json"),r).catch(this.catch)}}};Et.paths=[["@bud","registry","clean"]],Et.usage={category:"@bud",description:"clean previously published packages",examples:[["clean previously published packages","yarn @bud registry clean"]]};var vt=class extends R{async execute(){try{await this.cli.run(["@bud","pm2","start",P("node_modules","verdaccio","build","lib","cli","cli.js"),"-n","verdaccio","--","--config",P("config","verdaccio","config.yaml")])}catch{}try{await this.cli.run(["@bud","pm2","save"])}catch{}}};vt.paths=[["@bud","registry","start"]],vt.usage={category:"@bud",description:"start verdaccio registry",examples:[["start verdaccio server","yarn @bud registry start"]]};var wt=class extends R{async execute(){try{await this.cli.run(["@bud","pm2","stop","verdaccio"]),await this.cli.run(["@bud","pm2","delete","verdaccio"])}catch{}}};wt.paths=[["@bud","registry","stop"]],wt.usage={category:"@bud",description:"stop verdaccio registry",examples:[["stop verdaccio server","yarn @bud registry stop"]]};var Rs=E("clipanion");var xt=class extends R{constructor(){super(...arguments);this.registry=Rs.Option.String("-r,--registry","http://localhost:4873",{description:"Release registry"});this.tag=Rs.Option.String("-t,--tag",{description:"Release tag",required:!0});this.version=Rs.Option.String("-v,--version",{description:"Release version",required:!1})}async catch(r){throw await this.resetRegistry(),r}async execute(){if(this.registry.startsWith("http://localhost:4873")&&(await this.cli.run(["config","set","npmPublishRegistry","http://localhost:4873"]).then(this.throwIfError).catch(this.catch),await this.cli.run(["config","set","npmRegistryServer","http://localhost:4873"]).then(this.throwIfError).catch(this.catch)),!this.version){let r=new Date,s=`${r.getUTCFullYear()}.${r.getUTCMonth()+1}.${r.getUTCDate()}`;await this.cli.run(["exec","npm","show",`@roots/bud@${s}`,"--tag",this.tag,"--registry",this.registry]).then(()=>{this.version=`${s}-${r.getUTCHours()}${r.getUTCMinutes()}`}).catch(()=>{this.version=s})}await this.cli.run(["@bud","version",this.version]).then(this.throwIfError).catch(this.catch),await this.cli.run(["workspaces","foreach","--no-private","npm","publish","--access","public","--tag",this.tag]).then(this.throwIfError).catch(this.catch),await this.resetRegistry()}async resetRegistry(){await this.cli.run(["config","set","npmPublishRegistry","https://registry.npmjs.org"]).catch(r=>{}),await this.cli.run(["config","set","npmRegistryServer","https://registry.npmjs.org"]).catch(r=>{}),await this.cli.run(["@bud","version","0.0.0"]).catch(r=>{}),await this.cli.run(["install"]).catch(r=>{})}};xt.paths=[["@bud","release"]],xt.usage={category:"@bud",description:"Do a release.",examples:[["Bump packages to x.y.z and publish","yarn @bud release --version x.y.z --tag latest"]]};var ro=E("clipanion"),Wf=re(Cs());var At=class extends R{constructor(){super(...arguments);this.configuration=ro.Option.String({required:!0});this.passthrough=ro.Option.Proxy({name:"vitest passthrough options"})}async execute(){let r=["@bud","vitest"];return["e2e","integration"].includes(this.configuration)&&(r.push("--run"),await Wf.removeAsync(P("storage","mocks")).catch(s=>{throw s}),await this.cli.run(["@bud","release","--tag","latest","--registry","http://localhost:4873/"]).catch(s=>{throw s})),!r.includes("--config")&&r.push("--config",P("config","vitest",`config.${this.configuration}.ts`)),r.push(...this.passthrough),await this.cli.run(r)}};At.paths=[["@bud","test"]],At.usage={category:"@bud",description:"run test suites",examples:[["run unit test suite","yarn @bud test unit"],["run integration test suite","yarn @bud test integration"],["run e2e test suite","yarn @bud test e2e"]]};var Uf=E("clipanion");var Ct=class extends R{constructor(){super(...arguments);this.version=Uf.Option.String()}async execute(){await this.cli.run(["workspaces","foreach","--no-private","package","set","version",this.version]).then(this.throwIfError).catch(this.catch)}};Ct.paths=[["@bud","version"]],Ct.usage={category:"@bud",description:"bump version of public packages",examples:[["Bump packages to x.y.z","yarn @bud version x.y.z"]]};var Wt=E("@yarnpkg/shell"),Kf=async()=>{await(0,Wt.execute)("yarn",["@bud","plugin","build"]),await(0,Wt.execute)("yarn",["@bud","registry","start"]),await(0,Wt.execute)("yarn",["@bud","build"]),await(0,Wt.execute)("yarn",["@bud"])};var G_={commands:Object.values(qt),hooks:{afterAllInstalled:Kf}},W_=G_;return ep(U_);})();
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
return plugin;
}
};
